{"/home/travis/build/npmtest/node-npmtest-happypack/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_happypack */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-happypack/lib.npmtest_happypack.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/lib.npmtest_happypack.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":54}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":60}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_happypack */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_happypack = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_happypack = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-happypack/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":53}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":67},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-happypack && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_happypack */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_happypack","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_happypack.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_happypack.rollup.js'] =","            local.assetsDict['/assets.npmtest_happypack.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_happypack.__dirname + '/lib.npmtest_happypack.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyPlugin.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyPlugin.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":1,"102":0,"103":1,"104":1,"105":0,"106":0,"107":0,"108":0,"109":0,"110":1,"111":1,"112":0,"113":1,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":1,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":1,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"fnMap":{"1":{"name":"HappyPlugin","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":33}}},"2":{"name":"(anonymous_2)","line":46,"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":32}}},"3":{"name":"(anonymous_3)","line":53,"loc":{"start":{"line":53,"column":28},"end":{"line":53,"column":45}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":30},"end":{"line":69,"column":49}}},"5":{"name":"(anonymous_5)","line":97,"loc":{"start":{"line":97,"column":27},"end":{"line":97,"column":38}}},"6":{"name":"(anonymous_6)","line":100,"loc":{"start":{"line":100,"column":28},"end":{"line":100,"column":39}}},"7":{"name":"(anonymous_7)","line":109,"loc":{"start":{"line":109,"column":30},"end":{"line":109,"column":44}}},"8":{"name":"(anonymous_8)","line":114,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":49}}},"9":{"name":"(anonymous_9)","line":129,"loc":{"start":{"line":129,"column":35},"end":{"line":129,"column":57}}},"10":{"name":"(anonymous_10)","line":135,"loc":{"start":{"line":135,"column":30},"end":{"line":135,"column":55}}},"11":{"name":"normalizeLoaders","line":148,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":40}}},"12":{"name":"(anonymous_12)","line":156,"loc":{"start":{"line":156,"column":42},"end":{"line":156,"column":64}}},"13":{"name":"resolveLoaders","line":163,"loc":{"start":{"line":163,"column":4},"end":{"line":163,"column":38}}},"14":{"name":"(anonymous_14)","line":164,"loc":{"start":{"line":164,"column":47},"end":{"line":164,"column":64}}},"15":{"name":"(anonymous_15)","line":168,"loc":{"start":{"line":168,"column":57},"end":{"line":168,"column":86}}},"16":{"name":"(anonymous_16)","line":171,"loc":{"start":{"line":171,"column":30},"end":{"line":171,"column":61}}},"17":{"name":"(anonymous_17)","line":177,"loc":{"start":{"line":177,"column":62},"end":{"line":177,"column":79}}},"18":{"name":"loadCache","line":185,"loc":{"start":{"line":185,"column":4},"end":{"line":185,"column":33}}},"19":{"name":"launchAndConfigureThreads","line":196,"loc":{"start":{"line":196,"column":4},"end":{"line":196,"column":49}}},"20":{"name":"markStarted","line":213,"loc":{"start":{"line":213,"column":4},"end":{"line":213,"column":35}}},"21":{"name":"(anonymous_21)","line":225,"loc":{"start":{"line":225,"column":29},"end":{"line":225,"column":40}}},"22":{"name":"(anonymous_22)","line":235,"loc":{"start":{"line":235,"column":32},"end":{"line":235,"column":70}}},"23":{"name":"(anonymous_23)","line":244,"loc":{"start":{"line":244,"column":40},"end":{"line":244,"column":59}}},"24":{"name":"(anonymous_24)","line":273,"loc":{"start":{"line":273,"column":37},"end":{"line":273,"column":55}}},"25":{"name":"(anonymous_25)","line":276,"loc":{"start":{"line":276,"column":37},"end":{"line":276,"column":56}}},"26":{"name":"isVerbose","line":288,"loc":{"start":{"line":288,"column":0},"end":{"line":288,"column":37}}},"27":{"name":"isDebug","line":295,"loc":{"start":{"line":295,"column":0},"end":{"line":295,"column":35}}},"28":{"name":"compileInBackground","line":302,"loc":{"start":{"line":302,"column":0},"end":{"line":302,"column":58}}},"29":{"name":"compileInForeground","line":320,"loc":{"start":{"line":320,"column":0},"end":{"line":320,"column":58}}},"30":{"name":"readFromCache","line":324,"loc":{"start":{"line":324,"column":0},"end":{"line":324,"column":40}}},"31":{"name":"compileAndUpdateCache","line":340,"loc":{"start":{"line":340,"column":0},"end":{"line":340,"column":72}}},"32":{"name":"(anonymous_32)","line":348,"loc":{"start":{"line":348,"column":5},"end":{"line":348,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":71}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":45}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":45}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":49}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":59}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":37}},"15":{"start":{"line":16,"column":0},"end":{"line":67,"column":1}},"16":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"17":{"start":{"line":18,"column":4},"end":{"line":18,"column":39}},"18":{"start":{"line":21,"column":2},"end":{"line":21,"column":26}},"19":{"start":{"line":22,"column":2},"end":{"line":29,"column":4}},"20":{"start":{"line":31,"column":2},"end":{"line":60,"column":35}},"21":{"start":{"line":47,"column":8},"end":{"line":57,"column":9}},"22":{"start":{"line":48,"column":10},"end":{"line":48,"column":45}},"23":{"start":{"line":50,"column":13},"end":{"line":57,"column":9}},"24":{"start":{"line":51,"column":10},"end":{"line":51,"column":57}},"25":{"start":{"line":53,"column":13},"end":{"line":57,"column":9}},"26":{"start":{"line":54,"column":10},"end":{"line":54,"column":78}},"27":{"start":{"line":56,"column":10},"end":{"line":56,"column":79}},"28":{"start":{"line":62,"column":2},"end":{"line":62,"column":27}},"29":{"start":{"line":64,"column":2},"end":{"line":64,"column":44}},"30":{"start":{"line":66,"column":2},"end":{"line":66,"column":14}},"31":{"start":{"line":69,"column":0},"end":{"line":133,"column":2}},"32":{"start":{"line":70,"column":2},"end":{"line":70,"column":28}},"33":{"start":{"line":72,"column":2},"end":{"line":74,"column":3}},"34":{"start":{"line":73,"column":4},"end":{"line":73,"column":11}},"35":{"start":{"line":76,"column":2},"end":{"line":76,"column":14}},"36":{"start":{"line":78,"column":2},"end":{"line":78,"column":49}},"37":{"start":{"line":79,"column":2},"end":{"line":79,"column":45}},"38":{"start":{"line":81,"column":2},"end":{"line":86,"column":5}},"39":{"start":{"line":88,"column":2},"end":{"line":95,"column":5}},"40":{"start":{"line":97,"column":2},"end":{"line":112,"column":5}},"41":{"start":{"line":100,"column":4},"end":{"line":106,"column":7}},"42":{"start":{"line":101,"column":6},"end":{"line":103,"column":9}},"43":{"start":{"line":105,"column":6},"end":{"line":105,"column":104}},"44":{"start":{"line":109,"column":4},"end":{"line":111,"column":7}},"45":{"start":{"line":110,"column":6},"end":{"line":110,"column":48}},"46":{"start":{"line":114,"column":2},"end":{"line":121,"column":5}},"47":{"start":{"line":115,"column":4},"end":{"line":120,"column":5}},"48":{"start":{"line":116,"column":6},"end":{"line":116,"column":13}},"49":{"start":{"line":119,"column":6},"end":{"line":119,"column":33}},"50":{"start":{"line":123,"column":2},"end":{"line":123,"column":48}},"51":{"start":{"line":126,"column":2},"end":{"line":126,"column":48}},"52":{"start":{"line":128,"column":2},"end":{"line":132,"column":3}},"53":{"start":{"line":129,"column":4},"end":{"line":131,"column":7}},"54":{"start":{"line":130,"column":6},"end":{"line":130,"column":64}},"55":{"start":{"line":135,"column":0},"end":{"line":223,"column":2}},"56":{"start":{"line":136,"column":2},"end":{"line":136,"column":18}},"57":{"start":{"line":138,"column":2},"end":{"line":145,"column":3}},"58":{"start":{"line":139,"column":4},"end":{"line":144,"column":6}},"59":{"start":{"line":147,"column":2},"end":{"line":222,"column":11}},"60":{"start":{"line":149,"column":6},"end":{"line":149,"column":40}},"61":{"start":{"line":151,"column":6},"end":{"line":154,"column":8}},"62":{"start":{"line":156,"column":6},"end":{"line":158,"column":13}},"63":{"start":{"line":157,"column":8},"end":{"line":157,"column":64}},"64":{"start":{"line":160,"column":6},"end":{"line":160,"column":21}},"65":{"start":{"line":164,"column":6},"end":{"line":166,"column":9}},"66":{"start":{"line":165,"column":8},"end":{"line":165,"column":27}},"67":{"start":{"line":168,"column":6},"end":{"line":182,"column":9}},"68":{"start":{"line":169,"column":8},"end":{"line":169,"column":38}},"69":{"start":{"line":169,"column":17},"end":{"line":169,"column":38}},"70":{"start":{"line":171,"column":8},"end":{"line":175,"column":11}},"71":{"start":{"line":172,"column":10},"end":{"line":172,"column":49}},"72":{"start":{"line":173,"column":10},"end":{"line":173,"column":37}},"73":{"start":{"line":174,"column":10},"end":{"line":174,"column":85}},"74":{"start":{"line":177,"column":8},"end":{"line":179,"column":21}},"75":{"start":{"line":178,"column":10},"end":{"line":178,"column":52}},"76":{"start":{"line":181,"column":8},"end":{"line":181,"column":19}},"77":{"start":{"line":186,"column":6},"end":{"line":191,"column":7}},"78":{"start":{"line":187,"column":8},"end":{"line":190,"column":11}},"79":{"start":{"line":193,"column":6},"end":{"line":193,"column":17}},"80":{"start":{"line":197,"column":6},"end":{"line":197,"column":28}},"81":{"start":{"line":198,"column":6},"end":{"line":198,"column":81}},"82":{"start":{"line":200,"column":6},"end":{"line":208,"column":7}},"83":{"start":{"line":201,"column":8},"end":{"line":201,"column":70}},"84":{"start":{"line":204,"column":8},"end":{"line":204,"column":103}},"85":{"start":{"line":205,"column":8},"end":{"line":205,"column":39}},"86":{"start":{"line":207,"column":8},"end":{"line":207,"column":27}},"87":{"start":{"line":210,"column":6},"end":{"line":210,"column":91}},"88":{"start":{"line":214,"column":6},"end":{"line":216,"column":7}},"89":{"start":{"line":215,"column":8},"end":{"line":215,"column":83}},"90":{"start":{"line":218,"column":6},"end":{"line":218,"column":32}},"91":{"start":{"line":220,"column":6},"end":{"line":220,"column":17}},"92":{"start":{"line":225,"column":0},"end":{"line":233,"column":2}},"93":{"start":{"line":226,"column":2},"end":{"line":226,"column":80}},"94":{"start":{"line":228,"column":2},"end":{"line":230,"column":3}},"95":{"start":{"line":229,"column":4},"end":{"line":229,"column":22}},"96":{"start":{"line":232,"column":2},"end":{"line":232,"column":47}},"97":{"start":{"line":235,"column":0},"end":{"line":242,"column":2}},"98":{"start":{"line":236,"column":2},"end":{"line":241,"column":3}},"99":{"start":{"line":237,"column":4},"end":{"line":237,"column":71}},"100":{"start":{"line":240,"column":4},"end":{"line":240,"column":71}},"101":{"start":{"line":244,"column":0},"end":{"line":246,"column":2}},"102":{"start":{"line":245,"column":2},"end":{"line":245,"column":55}},"103":{"start":{"line":249,"column":0},"end":{"line":271,"column":2}},"104":{"start":{"line":273,"column":0},"end":{"line":283,"column":2}},"105":{"start":{"line":274,"column":2},"end":{"line":274,"column":54}},"106":{"start":{"line":276,"column":2},"end":{"line":282,"column":9}},"107":{"start":{"line":277,"column":4},"end":{"line":279,"column":5}},"108":{"start":{"line":278,"column":6},"end":{"line":278,"column":30}},"109":{"start":{"line":281,"column":4},"end":{"line":281,"column":15}},"110":{"start":{"line":286,"column":0},"end":{"line":286,"column":41}},"111":{"start":{"line":288,"column":0},"end":{"line":293,"column":1}},"112":{"start":{"line":289,"column":2},"end":{"line":292,"column":4}},"113":{"start":{"line":295,"column":0},"end":{"line":300,"column":1}},"114":{"start":{"line":296,"column":2},"end":{"line":299,"column":4}},"115":{"start":{"line":302,"column":0},"end":{"line":316,"column":1}},"116":{"start":{"line":303,"column":2},"end":{"line":303,"column":44}},"117":{"start":{"line":305,"column":2},"end":{"line":309,"column":3}},"118":{"start":{"line":306,"column":4},"end":{"line":306,"column":53}},"119":{"start":{"line":308,"column":4},"end":{"line":308,"column":59}},"120":{"start":{"line":311,"column":2},"end":{"line":313,"column":3}},"121":{"start":{"line":312,"column":4},"end":{"line":312,"column":69}},"122":{"start":{"line":315,"column":2},"end":{"line":315,"column":81}},"123":{"start":{"line":320,"column":0},"end":{"line":322,"column":1}},"124":{"start":{"line":321,"column":2},"end":{"line":321,"column":97}},"125":{"start":{"line":324,"column":0},"end":{"line":338,"column":1}},"126":{"start":{"line":325,"column":2},"end":{"line":325,"column":18}},"127":{"start":{"line":326,"column":2},"end":{"line":326,"column":69}},"128":{"start":{"line":327,"column":2},"end":{"line":327,"column":67}},"129":{"start":{"line":329,"column":2},"end":{"line":329,"column":67}},"130":{"start":{"line":331,"column":2},"end":{"line":335,"column":3}},"131":{"start":{"line":332,"column":4},"end":{"line":334,"column":6}},"132":{"start":{"line":337,"column":2},"end":{"line":337,"column":16}},"133":{"start":{"line":340,"column":0},"end":{"line":367,"column":1}},"134":{"start":{"line":341,"column":2},"end":{"line":341,"column":25}},"135":{"start":{"line":342,"column":2},"end":{"line":342,"column":44}},"136":{"start":{"line":344,"column":2},"end":{"line":366,"column":5}},"137":{"start":{"line":349,"column":4},"end":{"line":349,"column":64}},"138":{"start":{"line":350,"column":4},"end":{"line":350,"column":20}},"139":{"start":{"line":352,"column":4},"end":{"line":365,"column":5}},"140":{"start":{"line":353,"column":6},"end":{"line":353,"column":42}},"141":{"start":{"line":355,"column":6},"end":{"line":355,"column":21}},"142":{"start":{"line":358,"column":6},"end":{"line":358,"column":53}},"143":{"start":{"line":360,"column":6},"end":{"line":362,"column":8}},"144":{"start":{"line":364,"column":6},"end":{"line":364,"column":40}},"145":{"start":{"line":369,"column":0},"end":{"line":369,"column":29}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"2":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":13},"end":{"line":50,"column":13}},{"start":{"line":50,"column":13},"end":{"line":50,"column":13}}]},"4":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":13},"end":{"line":53,"column":13}},{"start":{"line":53,"column":13},"end":{"line":53,"column":13}}]},"5":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":17},"end":{"line":54,"column":43}},{"start":{"line":54,"column":47},"end":{"line":54,"column":59}},{"start":{"line":54,"column":63},"end":{"line":54,"column":77}}]},"6":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"7":{"line":81,"type":"binary-expr","locations":[{"start":{"line":81,"column":20},"end":{"line":81,"column":42}},{"start":{"line":81,"column":46},"end":{"line":86,"column":4}}]},"8":{"line":90,"type":"cond-expr","locations":[{"start":{"line":91,"column":6},"end":{"line":91,"column":69}},{"start":{"line":92,"column":6},"end":{"line":92,"column":70}}]},"9":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"10":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":2},"end":{"line":128,"column":2}},{"start":{"line":128,"column":2},"end":{"line":128,"column":2}}]},"11":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":2},"end":{"line":138,"column":2}},{"start":{"line":138,"column":2},"end":{"line":138,"column":2}}]},"12":{"line":141,"type":"cond-expr","locations":[{"start":{"line":141,"column":26},"end":{"line":141,"column":31}},{"start":{"line":141,"column":34},"end":{"line":141,"column":38}}]},"13":{"line":143,"type":"cond-expr","locations":[{"start":{"line":143,"column":31},"end":{"line":143,"column":47}},{"start":{"line":143,"column":50},"end":{"line":143,"column":52}}]},"14":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":13},"end":{"line":151,"column":20}},{"start":{"line":151,"column":24},"end":{"line":151,"column":42}}]},"15":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":169,"column":8}},{"start":{"line":169,"column":8},"end":{"line":169,"column":8}}]},"16":{"line":174,"type":"cond-expr","locations":[{"start":{"line":174,"column":44},"end":{"line":174,"column":70}},{"start":{"line":174,"column":73},"end":{"line":174,"column":84}}]},"17":{"line":178,"type":"binary-expr","locations":[{"start":{"line":178,"column":32},"end":{"line":178,"column":44}},{"start":{"line":178,"column":48},"end":{"line":178,"column":50}}]},"18":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":6},"end":{"line":186,"column":6}},{"start":{"line":186,"column":6},"end":{"line":186,"column":6}}]},"19":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":6},"end":{"line":214,"column":6}},{"start":{"line":214,"column":6},"end":{"line":214,"column":6}}]},"20":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":2},"end":{"line":228,"column":2}},{"start":{"line":228,"column":2},"end":{"line":228,"column":2}}]},"21":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":2},"end":{"line":236,"column":2}},{"start":{"line":236,"column":2},"end":{"line":236,"column":2}}]},"22":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":4},"end":{"line":277,"column":4}},{"start":{"line":277,"column":4},"end":{"line":277,"column":4}}]},"23":{"line":289,"type":"binary-expr","locations":[{"start":{"line":289,"column":9},"end":{"line":289,"column":30}},{"start":{"line":290,"column":4},"end":{"line":290,"column":29}},{"start":{"line":291,"column":4},"end":{"line":291,"column":38}}]},"24":{"line":296,"type":"binary-expr","locations":[{"start":{"line":296,"column":9},"end":{"line":296,"column":28}},{"start":{"line":297,"column":4},"end":{"line":297,"column":29}},{"start":{"line":298,"column":4},"end":{"line":298,"column":38}}]},"25":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":2},"end":{"line":305,"column":2}},{"start":{"line":305,"column":2},"end":{"line":305,"column":2}}]},"26":{"line":305,"type":"binary-expr","locations":[{"start":{"line":305,"column":6},"end":{"line":305,"column":38}},{"start":{"line":305,"column":42},"end":{"line":305,"column":74}}]},"27":{"line":311,"type":"if","locations":[{"start":{"line":311,"column":2},"end":{"line":311,"column":2}},{"start":{"line":311,"column":2},"end":{"line":311,"column":2}}]},"28":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":2},"end":{"line":331,"column":2}},{"start":{"line":331,"column":2},"end":{"line":331,"column":2}}]},"29":{"line":346,"type":"binary-expr","locations":[{"start":{"line":346,"column":52},"end":{"line":346,"column":93}},{"start":{"line":346,"column":97},"end":{"line":346,"column":138}}]},"30":{"line":352,"type":"if","locations":[{"start":{"line":352,"column":4},"end":{"line":352,"column":4}},{"start":{"line":352,"column":4},"end":{"line":352,"column":4}}]}},"code":["var fs = require('fs');","var path = require('path');","var async = require('async');","var assert = require('assert');","var HappyThreadPool = require('./HappyThreadPool');","var HappyForegroundThreadPool = require('./HappyForegroundThreadPool');","var HappyFSCache = require('./HappyFSCache');","var HappyUtils = require('./HappyUtils');","var WebpackUtils = require('./WebpackUtils');","var OptionParser = require('./OptionParser');","var JSONSerializer = require('./JSONSerializer');","var SourceMapSerializer = require('./SourceMapSerializer');","var fnOnce = require('./fnOnce');","var pkg = require('../package.json');","","function HappyPlugin(userConfig) {","  if (!(this instanceof HappyPlugin)) {","    return new HappyPlugin(userConfig);","  }","","  this.name = 'HappyPack';","  this.state = {","    started: false,","    loaders: [],","    baseLoaderRequest: '',","    foregroundThreadPool: null,","    verbose: false,","    debug: false,","  };","","  this.config = OptionParser(userConfig, {","    id:                       { type: 'string', default: '1' },","    compilerId:               { type: 'string', default: 'default' },","    tempDir:                  { type: 'string', default: '.happypack' },","    threads:                  { type: 'number', default: 3 },","    threadPool:               { type: 'object', default: null },","    cache:                    { type: 'boolean', default: true },","    cachePath:                { type: 'string' },","    cacheContext:             { type: 'object', default: {} },","    cacheSignatureGenerator:  { type: 'function' },","    verbose:                  { type: 'boolean', default: true },","    verboseWhenProfiling:     { type: 'boolean', default: false },","    debug:                    { type: 'boolean', default: process.env.DEBUG === '1' },","    enabled:                  { type: 'boolean', default: true },","    loaders:                  {","      validate: function(value) {","        if (!Array.isArray(value)) {","          return 'Loaders must be an array!';","        }","        else if (value.length === 0) {","          return 'You must specify at least one loader!';","        }","        else if (value.some(function(loader) {","          return typeof loader !== 'string' && !loader.path && !loader.loader;","        })) {","          return 'Loader must have a @path or @loader property or be a string.'","        }","      },","    }","  }, \"HappyPack[\" + this.id + \"]\");","","  this.id = this.config.id;","","  HappyUtils.mkdirSync(this.config.tempDir);","","  return this;","}","","HappyPlugin.prototype.apply = function(compiler) {","  var that, engageWatchMode;","","  if (this.config.enabled === false) {","    return;","  }","","  that = this;","","  this.state.verbose = isVerbose(compiler, this);","  this.state.debug = isDebug(compiler, this);","","  this.threadPool = this.config.threadPool || HappyThreadPool({","    id: this.id,","    size: this.config.threads,","    verbose: this.state.verbose,","    debug: this.state.debug,","  });","","  this.cache = HappyFSCache({","    id: this.id,","    path: this.config.cachePath ?","      path.resolve(this.config.cachePath.replace(/\\[id\\]/g, this.id)) :","      path.resolve(this.config.tempDir, 'cache--' + this.id + '.json'),","    verbose: this.state.verbose,","    generateSignature: this.config.cacheSignatureGenerator","  });","","  engageWatchMode = fnOnce(function() {","    // Once the initial build has completed, we create a foreground worker and","    // perform all compilations in this thread instead:","    compiler.plugin('done', function() {","      that.state.foregroundThreadPool = HappyForegroundThreadPool({","        loaders: that.state.loaders,","      });","","      that.state.foregroundThreadPool.start(that.config.compilerId, compiler, '{}', Function.prototype);","    });","","    // TODO: anything special to do here?","    compiler.plugin('failed', function(err) {","      console.warn('fatal watch error!!!', err);","    });","  });","","  compiler.plugin('watch-run', function(_, done) {","    if (engageWatchMode() === fnOnce.ALREADY_CALLED) {","      done();","    }","    else {","      that.start(compiler, done);","    }","  });","","  compiler.plugin('run', that.start.bind(that));","","  // cleanup hooks:","  compiler.plugin('done', that.stop.bind(that));","","  if (compiler.options.bail) {","    compiler.plugin('compilation', function(compilation) {","      compilation.plugin('failed-module', that.stop.bind(that));","    });","  }","};","","HappyPlugin.prototype.start = function(compiler, done) {","  var that = this;","","  if (that.state.verbose) {","    console.log('Happy[%s]: Version: %s. Using cache? %s. Threads: %d%s',","      that.id, pkg.version,","      that.config.cache ? 'yes' : 'no',","      that.threadPool.size,","      that.config.threadPool ? ' (shared pool)' : ''","    );","  }","","  async.series([","    function normalizeLoaders(callback) {","      var loaders = that.config.loaders;","","      assert(loaders && loaders.length > 0,","        \"HappyPlugin[\" + that.id + \"]; you have not specified any loaders \" +","        \"and there is no matching loader entry with this id either.\"","      );","","      that.state.loaders = loaders.reduce(function(list, entry) {","        return list.concat(WebpackUtils.normalizeLoader(entry));","      }, []);","","      callback(null);","    },","","    function resolveLoaders(callback) {","      var loaderPaths = that.state.loaders.map(function(loader) {","        return loader.path;","      });","","      WebpackUtils.resolveLoaders(compiler, loaderPaths, function(err, resolvedPaths) {","        if (err) return callback(err);","","        resolvedPaths.forEach(function (resolvedPath, index) {","          var loader = that.state.loaders[index];","          loader.path = resolvedPath;","          loader.request = (loader.query) ? loader.path + loader.query : loader.path;","        });","","        that.state.baseLoaderRequest = that.state.loaders.map(function(loader) {","          return loader.path + (loader.query || '');","        }).join('!');","","        callback();","      });","    },","","    function loadCache(callback) {","      if (that.config.cache) {","        that.cache.load({","          loaders: that.state.loaders,","          external: that.config.cacheContext","        });","      }","","      callback();","    },","","    function launchAndConfigureThreads(callback) {","      var serializedOptions;","      var compilerOptions = HappyPlugin.extractCompilerOptions(compiler.options);","","      try {","        serializedOptions = JSONSerializer.serialize(compilerOptions);","      }","      catch(e) {","        console.error('Happy[%s]: Unable to serialize options!!! This is an internal error.', that.id);","        console.error(compilerOptions);","","        return callback(e);","      }","","      that.threadPool.start(that.config.compilerId, compiler, serializedOptions, callback);","    },","","    function markStarted(callback) {","      if (that.state.verbose) {","        console.log('Happy[%s]: All set; signalling webpack to proceed.', that.id);","      }","","      that.state.started = true;","","      callback();","    }","  ], done);","};","","HappyPlugin.prototype.stop = function() {","  assert(this.state.started, \"HappyPlugin can not be torn down until started!\");","","  if (this.config.cache) {","    this.cache.save();","  }","","  this.threadPool.stop(this.config.compilerId);","};","","HappyPlugin.prototype.compile = function(loader, loaderContext, done) {","  if (this.state.foregroundThreadPool) {","    return compileInForeground.call(this, loader, loaderContext, done);","  }","  else {","    return compileInBackground.call(this, loader, loaderContext, done);","  }","};","","HappyPlugin.prototype.generateRequest = function(resource) {","  return this.state.baseLoaderRequest + '!' + resource;","};","","// export this so that users get to override if needed","HappyPlugin.SERIALIZABLE_OPTIONS = [","  'amd',","  'bail',","  'cache',","  'context',","  'entry',","  'externals',","  'debug',","  'devtool',","  'devServer',","  'loader',","  'module',","  'node',","  'output',","  'profile',","  'recordsPath',","  'recordsInputPath',","  'recordsOutputPath',","  'resolve',","  'resolveLoader',","  'target',","  'watch',","];","","HappyPlugin.extractCompilerOptions = function(options) {","  var ALLOWED_KEYS = HappyPlugin.SERIALIZABLE_OPTIONS;","","  return Object.keys(options).reduce(function(hsh, key) {","    if (ALLOWED_KEYS.indexOf(key) > -1) {","      hsh[key] = options[key];","    }","","    return hsh;","  }, {});","};","","// convenience accessor to relieve people from requiring the file directly:","HappyPlugin.ThreadPool = HappyThreadPool;","","function isVerbose(compiler, plugin) {","  return plugin.config.verbose && (","    !compiler.options.profile ||","    plugin.config.verboseWhenProfiling","  );","};","","function isDebug(compiler, plugin) {","  return plugin.config.debug && (","    !compiler.options.profile ||","    plugin.config.verboseWhenProfiling","  );","};","","function compileInBackground(loader, loaderContext, done) {","  var filePath = loaderContext.resourcePath;","","  if (!this.cache.hasChanged(filePath) && !this.cache.hasErrored(filePath)) {","    var cached = readFromCache(this.cache, filePath);","","    return done(null, cached.sourceCode, cached.sourceMap);","  }","","  if (this.state.debug) {","    console.warn('File had changed, re-compiling... (%s)', filePath);","  }","","  compileAndUpdateCache.call(this, this.threadPool, loader, loaderContext, done);","}","","// compile the source using the foreground worker instead of sending to the","// background threads:","function compileInForeground(loader, loaderContext, done) {","  compileAndUpdateCache.call(this, this.state.foregroundThreadPool, loader, loaderContext, done);","}","","function readFromCache(cache, filePath) {","  var cached = {};","  var sourceCodeFilePath = cache.getCompiledSourceCodePath(filePath);","  var sourceMapFilePath = cache.getCompiledSourceMapPath(filePath);","","  cached.sourceCode = fs.readFileSync(sourceCodeFilePath, 'utf-8');","","  if (HappyUtils.isReadable(sourceMapFilePath)) {","    cached.sourceMap = SourceMapSerializer.deserialize(","      fs.readFileSync(sourceMapFilePath, 'utf-8')","    );","  }","","  return cached;","}","","function compileAndUpdateCache(threadPool, loader, loaderContext, done) {","  var cache = this.cache;","  var filePath = loaderContext.resourcePath;","","  threadPool.compile(loaderContext.remoteLoaderId, loader, {","    loaders: this.state.loaders,","    compiledPath: path.resolve(this.config.tempDir, cache.getCompiledSourceCodePath(filePath) || HappyUtils.generateCompiledPath(filePath)),","    loaderContext: loaderContext,","  }, function(result) {","    var contents = fs.readFileSync(result.compiledPath, 'utf-8')","    var compiledMap;","","    if (!result.success) {","      cache.set(filePath, contents, null);","","      done(contents);","    }","    else {","      cache.set(filePath, null, result.compiledPath);","","      compiledMap = SourceMapSerializer.deserialize(","        fs.readFileSync(cache.getCompiledSourceMapPath(filePath), 'utf-8')","      );","","      done(null, contents, compiledMap);","    }","  });","};","","module.exports = HappyPlugin;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"16":1,"17":0,"18":0,"21":0,"22":0,"31":0,"47":0,"48":0,"50":0,"51":0,"53":0,"54":0,"56":0,"62":0,"64":0,"66":0,"69":1,"70":0,"72":0,"73":0,"76":0,"78":0,"79":0,"81":0,"88":0,"97":0,"100":0,"101":0,"105":0,"109":0,"110":0,"114":0,"115":0,"116":0,"119":0,"123":0,"126":0,"128":0,"129":0,"130":0,"135":1,"136":0,"138":0,"139":0,"147":0,"149":0,"151":0,"156":0,"157":0,"160":0,"164":0,"165":0,"168":0,"169":0,"171":0,"172":0,"173":0,"174":0,"177":0,"178":0,"181":0,"186":0,"187":0,"193":0,"197":0,"198":0,"200":0,"201":0,"204":0,"205":0,"207":0,"210":0,"214":0,"215":0,"218":0,"220":0,"225":1,"226":0,"228":0,"229":0,"232":0,"235":1,"236":0,"237":0,"240":0,"244":1,"245":0,"249":1,"273":1,"274":0,"276":0,"277":0,"278":0,"281":0,"286":1,"288":1,"289":0,"295":1,"296":0,"302":1,"303":0,"305":0,"306":0,"308":0,"311":0,"312":0,"315":0,"320":1,"321":0,"324":1,"325":0,"326":0,"327":0,"329":0,"331":0,"332":0,"337":0,"340":1,"341":0,"342":0,"344":0,"349":0,"350":0,"352":0,"353":0,"355":0,"358":0,"360":0,"364":0,"369":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyThreadPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyThreadPool.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":1,"38":0,"39":0,"40":1,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"HappyThreadPool","line":24,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":50}}},"2":{"name":"(anonymous_2)","line":47,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":65}}},"3":{"name":"(anonymous_3)","line":50,"loc":{"start":{"line":50,"column":75},"end":{"line":50,"column":89}}},"4":{"name":"(anonymous_4)","line":55,"loc":{"start":{"line":55,"column":35},"end":{"line":55,"column":52}}},"5":{"name":"(anonymous_5)","line":56,"loc":{"start":{"line":56,"column":17},"end":{"line":56,"column":36}}},"6":{"name":"(anonymous_6)","line":63,"loc":{"start":{"line":63,"column":15},"end":{"line":63,"column":26}}},"7":{"name":"(anonymous_7)","line":67,"loc":{"start":{"line":67,"column":13},"end":{"line":67,"column":54}}},"8":{"name":"(anonymous_8)","line":72,"loc":{"start":{"line":72,"column":29},"end":{"line":72,"column":40}}},"9":{"name":"(anonymous_9)","line":79,"loc":{"start":{"line":79,"column":10},"end":{"line":79,"column":31}}},"10":{"name":"createThreads","line":89,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":50}}},"11":{"name":"send","line":100,"loc":{"start":{"line":100,"column":0},"end":{"line":100,"column":22}}},"12":{"name":"(anonymous_12)","line":101,"loc":{"start":{"line":101,"column":9},"end":{"line":101,"column":28}}},"13":{"name":"get","line":106,"loc":{"start":{"line":106,"column":0},"end":{"line":106,"column":19}}},"14":{"name":"(anonymous_14)","line":107,"loc":{"start":{"line":107,"column":9},"end":{"line":107,"column":26}}},"15":{"name":"not","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":16}}},"16":{"name":"(anonymous_16)","line":113,"loc":{"start":{"line":113,"column":9},"end":{"line":113,"column":21}}},"17":{"name":"RoundRobinThreadPool","line":118,"loc":{"start":{"line":118,"column":0},"end":{"line":118,"column":39}}},"18":{"name":"getThread","line":121,"loc":{"start":{"line":121,"column":9},"end":{"line":121,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}},"5":{"start":{"line":24,"column":0},"end":{"line":87,"column":1}},"6":{"start":{"line":25,"column":2},"end":{"line":25,"column":41}},"7":{"start":{"line":27,"column":2},"end":{"line":29,"column":4}},"8":{"start":{"line":31,"column":2},"end":{"line":34,"column":4}},"9":{"start":{"line":36,"column":2},"end":{"line":40,"column":5}},"10":{"start":{"line":42,"column":2},"end":{"line":42,"column":48}},"11":{"start":{"line":44,"column":2},"end":{"line":86,"column":4}},"12":{"start":{"line":48,"column":6},"end":{"line":48,"column":62}},"13":{"start":{"line":50,"column":6},"end":{"line":60,"column":9}},"14":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"15":{"start":{"line":52,"column":10},"end":{"line":52,"column":27}},"16":{"start":{"line":55,"column":8},"end":{"line":59,"column":18}},"17":{"start":{"line":56,"column":10},"end":{"line":58,"column":11}},"18":{"start":{"line":57,"column":12},"end":{"line":57,"column":68}},"19":{"start":{"line":64,"column":6},"end":{"line":64,"column":48}},"20":{"start":{"line":68,"column":6},"end":{"line":68,"column":31}},"21":{"start":{"line":70,"column":6},"end":{"line":70,"column":56}},"22":{"start":{"line":72,"column":6},"end":{"line":76,"column":9}},"23":{"start":{"line":73,"column":8},"end":{"line":73,"column":52}},"24":{"start":{"line":75,"column":8},"end":{"line":75,"column":36}},"25":{"start":{"line":80,"column":6},"end":{"line":80,"column":54}},"26":{"start":{"line":82,"column":6},"end":{"line":84,"column":7}},"27":{"start":{"line":83,"column":8},"end":{"line":83,"column":58}},"28":{"start":{"line":89,"column":0},"end":{"line":98,"column":1}},"29":{"start":{"line":90,"column":2},"end":{"line":90,"column":14}},"30":{"start":{"line":92,"column":2},"end":{"line":95,"column":3}},"31":{"start":{"line":93,"column":4},"end":{"line":93,"column":80}},"32":{"start":{"line":94,"column":4},"end":{"line":94,"column":60}},"33":{"start":{"line":97,"column":2},"end":{"line":97,"column":13}},"34":{"start":{"line":100,"column":0},"end":{"line":104,"column":1}},"35":{"start":{"line":101,"column":2},"end":{"line":103,"column":4}},"36":{"start":{"line":102,"column":4},"end":{"line":102,"column":43}},"37":{"start":{"line":106,"column":0},"end":{"line":110,"column":1}},"38":{"start":{"line":107,"column":2},"end":{"line":109,"column":4}},"39":{"start":{"line":108,"column":4},"end":{"line":108,"column":24}},"40":{"start":{"line":112,"column":0},"end":{"line":116,"column":1}},"41":{"start":{"line":113,"column":2},"end":{"line":115,"column":4}},"42":{"start":{"line":114,"column":4},"end":{"line":114,"column":17}},"43":{"start":{"line":118,"column":0},"end":{"line":132,"column":1}},"44":{"start":{"line":119,"column":2},"end":{"line":119,"column":23}},"45":{"start":{"line":121,"column":2},"end":{"line":131,"column":3}},"46":{"start":{"line":122,"column":4},"end":{"line":122,"column":32}},"47":{"start":{"line":124,"column":4},"end":{"line":124,"column":19}},"48":{"start":{"line":126,"column":4},"end":{"line":128,"column":5}},"49":{"start":{"line":127,"column":6},"end":{"line":127,"column":23}},"50":{"start":{"line":130,"column":4},"end":{"line":130,"column":29}}},"branchMap":{"1":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"2":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":82,"column":6}},{"start":{"line":82,"column":6},"end":{"line":82,"column":6}}]},"3":{"line":93,"type":"cond-expr","locations":[{"start":{"line":93,"column":35},"end":{"line":93,"column":68}},{"start":{"line":93,"column":71},"end":{"line":93,"column":79}}]},"4":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":4}},{"start":{"line":126,"column":4},"end":{"line":126,"column":4}}]}},"code":["var async = require('async');","var assert = require('assert');","var HappyRPCHandler = require('./HappyRPCHandler');","var HappyThread = require('./HappyThread');","","/**"," * Create a thread pool that can be shared between multiple plugin instances."," *"," * @param {Object} config"," * @param {Number!} config.size"," *        The number of background threads to spawn for running loaders."," *"," * @param {String?} config.id"," *        Used for prefixing the thread IDs. This is only used for logging"," *        purposes and does not affect the functionality."," *"," * @param {Boolean?} [config.verbose=false]"," *        Allow this module and threads to log information to the console."," *"," * @param {Boolean?} [config.debug=false]"," *        Allow this module and threads to log debugging information to the"," *        console."," */","module.exports = function HappyThreadPool(config) {","  var rpcHandler = new HappyRPCHandler();","","  assert(!isNaN(config.size),","    \"ArgumentError: HappyThreadPool requires a valid integer for its size, but got NaN.\"","  );","","  assert(config.size > 0,","    \"ArgumentError: HappyThreadPool requires a positive integer for its size \" +","    \", but got {\" + config.size + \"}.\"","  );","","  var threads = createThreads(config.size, rpcHandler, {","    id: config.id,","    verbose: config.verbose,","    debug: config.debug,","  });","","  var getThread = RoundRobinThreadPool(threads);","","  return {","    size: config.size,","","    start: function(compilerId, compiler, compilerOptions, done) {","      rpcHandler.registerActiveCompiler(compilerId, compiler);","","      async.parallel(threads.filter(not(send('isOpen'))).map(get('open')), function(err) {","        if (err) {","          return done(err);","        }","","        async.parallel(threads.map(function(thread) {","          return function(callback) {","            thread.configure(compilerId, compilerOptions, callback);","          }","        }), done);","      });","    },","","    isRunning: function() {","      return !threads.some(not(send('isOpen')));","    },","","    compile: function(loaderId, loader, params, done) {","      var worker = getThread();","","      rpcHandler.registerActiveLoader(loaderId, loader);","","      worker.compile(params, function() {","        rpcHandler.unregisterActiveLoader(loaderId);","","        done.apply(null, arguments);","      });","    },","","    stop: function(compilerId) {","      rpcHandler.unregisterActiveCompiler(compilerId);","","      if (!rpcHandler.isActive()) {","        threads.filter(send('isOpen')).map(send('close'));","      }","    },","  };","}","","function createThreads(count, rpcHandler, config) {","  var set = []","","  for (var threadId = 0; threadId < count; ++threadId) {","    var fullThreadId = config.id ? [ config.id, threadId ].join(':') : threadId;","    set.push(HappyThread(fullThreadId, rpcHandler, config));","  }","","  return set;","}","","function send(method) {","  return function(receiver) {","    return receiver[method].call(receiver);","  };","}","","function get(attr) {","  return function(object) {","    return object[attr];","  };","}","","function not(f) {","  return function(x) {","    return !f(x);","  };","}","","function RoundRobinThreadPool(threads) {","  var lastThreadId = 0;","","  return function getThread() {","    var threadId = lastThreadId;","","    lastThreadId++;","","    if (lastThreadId >= threads.length) {","      lastThreadId = 0;","    }","","    return threads[threadId];","  }","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"24":1,"25":0,"27":0,"31":0,"36":0,"42":0,"44":0,"48":0,"50":0,"51":0,"52":0,"55":0,"56":0,"57":0,"64":0,"68":0,"70":0,"72":0,"73":0,"75":0,"80":0,"82":0,"83":0,"89":1,"90":0,"92":0,"93":0,"94":0,"97":0,"100":1,"101":0,"102":0,"106":1,"107":0,"108":0,"112":1,"113":0,"114":0,"118":1,"119":0,"121":0,"122":0,"124":0,"126":0,"127":0,"130":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyRPCHandler.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyRPCHandler.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"HappyRPCHandler","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":51},"end":{"line":11,"column":74}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":37},"end":{"line":15,"column":48}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":53},"end":{"line":19,"column":66}}},"5":{"name":"(anonymous_5)","line":23,"loc":{"start":{"line":23,"column":49},"end":{"line":23,"column":72}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":51},"end":{"line":27,"column":64}}},"7":{"name":"(anonymous_7)","line":31,"loc":{"start":{"line":31,"column":36},"end":{"line":31,"column":66}}},"8":{"name":"(anonymous_8)","line":64,"loc":{"start":{"line":64,"column":11},"end":{"line":64,"column":45}}},"9":{"name":"(anonymous_9)","line":78,"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":41}}},"10":{"name":"(anonymous_10)","line":82,"loc":{"start":{"line":82,"column":13},"end":{"line":82,"column":39}}},"11":{"name":"(anonymous_11)","line":86,"loc":{"start":{"line":86,"column":12},"end":{"line":86,"column":38}}},"12":{"name":"(anonymous_12)","line":94,"loc":{"start":{"line":94,"column":17},"end":{"line":94,"column":43}}},"13":{"name":"(anonymous_13)","line":98,"loc":{"start":{"line":98,"column":24},"end":{"line":98,"column":50}}},"14":{"name":"(anonymous_14)","line":102,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":38}}},"15":{"name":"(anonymous_15)","line":106,"loc":{"start":{"line":106,"column":14},"end":{"line":106,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":59}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":9,"column":1}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":42}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":44}},"8":{"start":{"line":11,"column":0},"end":{"line":13,"column":2}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":54}},"10":{"start":{"line":15,"column":0},"end":{"line":17,"column":2}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":44}},"12":{"start":{"line":19,"column":0},"end":{"line":21,"column":2}},"13":{"start":{"line":20,"column":2},"end":{"line":20,"column":47}},"14":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"15":{"start":{"line":24,"column":2},"end":{"line":24,"column":46}},"16":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"17":{"start":{"line":28,"column":2},"end":{"line":28,"column":39}},"18":{"start":{"line":31,"column":0},"end":{"line":61,"column":2}},"19":{"start":{"line":32,"column":2},"end":{"line":32,"column":23}},"20":{"start":{"line":34,"column":2},"end":{"line":60,"column":3}},"21":{"start":{"line":35,"column":4},"end":{"line":40,"column":5}},"22":{"start":{"line":36,"column":6},"end":{"line":36,"column":62}},"23":{"start":{"line":39,"column":6},"end":{"line":39,"column":53}},"24":{"start":{"line":42,"column":4},"end":{"line":44,"column":6}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":49}},"26":{"start":{"line":48,"column":7},"end":{"line":60,"column":3}},"27":{"start":{"line":49,"column":4},"end":{"line":49,"column":60}},"28":{"start":{"line":51,"column":4},"end":{"line":54,"column":6}},"29":{"start":{"line":56,"column":4},"end":{"line":56,"column":45}},"30":{"start":{"line":59,"column":4},"end":{"line":59,"column":60}},"31":{"start":{"line":63,"column":0},"end":{"line":75,"column":2}},"32":{"start":{"line":65,"column":4},"end":{"line":65,"column":45}},"33":{"start":{"line":66,"column":4},"end":{"line":66,"column":52}},"34":{"start":{"line":68,"column":4},"end":{"line":73,"column":5}},"35":{"start":{"line":69,"column":6},"end":{"line":69,"column":87}},"36":{"start":{"line":72,"column":6},"end":{"line":72,"column":70}},"37":{"start":{"line":77,"column":0},"end":{"line":109,"column":2}},"38":{"start":{"line":79,"column":4},"end":{"line":79,"column":40}},"39":{"start":{"line":83,"column":4},"end":{"line":83,"column":38}},"40":{"start":{"line":87,"column":4},"end":{"line":91,"column":6}},"41":{"start":{"line":95,"column":4},"end":{"line":95,"column":39}},"42":{"start":{"line":99,"column":4},"end":{"line":99,"column":46}},"43":{"start":{"line":103,"column":4},"end":{"line":103,"column":31}},"44":{"start":{"line":107,"column":4},"end":{"line":107,"column":42}},"45":{"start":{"line":112,"column":0},"end":{"line":112,"column":33}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":27},"end":{"line":12,"column":29}},{"start":{"line":12,"column":33},"end":{"line":12,"column":42}}]},"2":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":30},"end":{"line":20,"column":32}},{"start":{"line":20,"column":36},"end":{"line":20,"column":45}}]},"3":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":25},"end":{"line":24,"column":27}},{"start":{"line":24,"column":31},"end":{"line":24,"column":34}}]},"4":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":28},"end":{"line":28,"column":30}},{"start":{"line":28,"column":34},"end":{"line":28,"column":37}}]},"5":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"6":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"7":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":7},"end":{"line":48,"column":7}},{"start":{"line":48,"column":7},"end":{"line":48,"column":7}}]},"8":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]}},"code":["var assert = require('assert');","var SourceMapSerializer = require('./SourceMapSerializer');","var SharedPtrMap = require('./SharedPtrMap');","var COMPILER_RPCs, LOADER_RPCS;","","function HappyRPCHandler() {","  this.activeLoaders = new SharedPtrMap();","  this.activeCompilers = new SharedPtrMap();","}","","HappyRPCHandler.prototype.registerActiveCompiler = function(id, compiler) {","  this.activeCompilers.set(id || 'default', compiler);","};","","HappyRPCHandler.prototype.isActive = function() {","  return this.activeCompilers.getSize() > 0;","};","","HappyRPCHandler.prototype.unregisterActiveCompiler = function(id) {","  this.activeCompilers.delete(id || 'default');","};","","HappyRPCHandler.prototype.registerActiveLoader = function(id, instance) {","  this.activeLoaders.set(id || '1', instance);","};","","HappyRPCHandler.prototype.unregisterActiveLoader = function(id) {","  this.activeLoaders.delete(id || '1');","};","","HappyRPCHandler.prototype.execute = function(type, payload, done) {","  var compiler, loader;","","  if (COMPILER_RPCs.hasOwnProperty(type)) {","    if (payload.compilerId) {","      compiler = this.activeCompilers.get(payload.compilerId);","    }","    else {","      compiler = this.activeCompilers.get('default');","    }","","    assert(!!compiler,","      \"A compiler RPC was dispatched, but no compiler instance was registered!\"","    );","","    COMPILER_RPCs[type](compiler, payload, done);","  }","  else if (LOADER_RPCS.hasOwnProperty(type)) {","    loader = this.activeLoaders.get(payload.remoteLoaderId);","","    assert(!!loader,","      \"A loader RPC was dispatched to HappyLoader[\" + payload.remoteLoaderId +","      \"] but no such loader is active!\"","    );","","    LOADER_RPCS[type](loader, payload, done);","  }","  else {","    assert(false, \"Unrecognized loader RPC '\" + type + '\"');","  }","};","","COMPILER_RPCs = {","  resolve: function(compiler, payload, done) {","    var resolver = compiler.resolvers.normal;","    var resolve = compiler.resolvers.normal.resolve;","","    if (resolve.length === 4) {","      resolve.call(resolver, payload.context, payload.context, payload.resource, done);","    }","    else {","      resolve.call(resolver, payload.context, payload.resource, done);","    }","  },","};","","LOADER_RPCS = {","  emitWarning: function(loader, payload) {","    loader.emitWarning(payload.message);","  },","","  emitError: function(loader, payload) {","    loader.emitError(payload.message);","  },","","  emitFile: function(loader, payload) {","    loader.emitFile(","      payload.name,","      payload.contents,","      SourceMapSerializer.deserialize(payload.sourceMap)","    );","  },","","  addDependency: function(loader, payload) {","    loader.addDependency(payload.file);","  },","","  addContextDependency: function(loader, payload) {","    loader.addContextDependency(payload.file);","  },","","  clearDependencies: function(loader) {","    loader.clearDependencies();","  },","","  loadModule: function(loader, payload, done) {","    loader.loadModule(payload.file, done);","  },","};","","","module.exports = HappyRPCHandler;",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"11":1,"12":0,"15":1,"16":0,"19":1,"20":0,"23":1,"24":0,"27":1,"28":0,"31":1,"32":0,"34":0,"35":0,"36":0,"39":0,"42":0,"46":0,"48":0,"49":0,"51":0,"56":0,"59":0,"63":1,"65":0,"66":0,"68":0,"69":0,"72":0,"77":1,"79":0,"83":0,"87":0,"95":0,"99":0,"103":0,"107":0,"112":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/SourceMapSerializer.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/SourceMapSerializer.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":32}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":22},"end":{"line":10,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":7,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":13}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":37}},"5":{"start":{"line":10,"column":0},"end":{"line":19,"column":2}},"6":{"start":{"line":11,"column":2},"end":{"line":17,"column":3}},"7":{"start":{"line":12,"column":4},"end":{"line":16,"column":5}},"8":{"start":{"line":13,"column":6},"end":{"line":13,"column":27}},"9":{"start":{"line":15,"column":6},"end":{"line":15,"column":18}},"10":{"start":{"line":18,"column":2},"end":{"line":18,"column":19}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":2},"end":{"line":2,"column":2}},{"start":{"line":2,"column":2},"end":{"line":2,"column":2}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":26},"end":{"line":6,"column":27}},{"start":{"line":6,"column":31},"end":{"line":6,"column":35}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"4":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":9},"end":{"line":18,"column":10}},{"start":{"line":18,"column":14},"end":{"line":18,"column":18}}]}},"code":["exports.serialize = function(x) {","  if (typeof x === 'string') {","    return x;","  }","  else {","    return JSON.stringify(x || null);","  }","};","","exports.deserialize = function(x) {","  if (typeof x === 'string') {","    try {","      return JSON.parse(x);","    } catch (e) {","      return null;","    }","  }","  return x || null;","};",""],"l":{"1":1,"2":0,"3":0,"6":0,"10":1,"11":0,"12":0,"13":0,"15":0,"18":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/SharedPtrMap.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/SharedPtrMap.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"SharedPtrMap","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":50}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":29},"end":{"line":16,"column":43}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":44}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":32},"end":{"line":24,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":16}},"4":{"start":{"line":7,"column":0},"end":{"line":14,"column":2}},"5":{"start":{"line":8,"column":2},"end":{"line":13,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":41}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":28}},"8":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"9":{"start":{"line":17,"column":2},"end":{"line":17,"column":42}},"10":{"start":{"line":20,"column":0},"end":{"line":22,"column":2}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":38}},"12":{"start":{"line":24,"column":0},"end":{"line":32,"column":2}},"13":{"start":{"line":25,"column":2},"end":{"line":31,"column":3}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":28}},"15":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"16":{"start":{"line":29,"column":6},"end":{"line":29,"column":27}},"17":{"start":{"line":34,"column":0},"end":{"line":34,"column":30}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]}},"code":["var SharedPtr = require('./SharedPtr');","","function SharedPtrMap() {","  this.map = {};","}","","SharedPtrMap.prototype.set = function(key, value) {","  if (!this.map.hasOwnProperty(key)) {","    this.map[key] = new SharedPtr(value);","  }","  else {","    this.map[key].acquire();","  }","};","","SharedPtrMap.prototype.get = function(key) {","  return SharedPtr.safeGet(this.map[key]);","};","","SharedPtrMap.prototype.getSize = function() {","  return Object.keys(this.map).length;","};","","SharedPtrMap.prototype.delete = function(key) {","  if (this.map[key]) {","    this.map[key].release();","","    if (this.map[key].isDead()) {","      delete this.map[key];","    }","  }","};","","module.exports = SharedPtrMap;"],"l":{"1":1,"3":1,"4":0,"7":1,"8":0,"9":0,"12":0,"16":1,"17":0,"20":1,"21":0,"24":1,"25":0,"26":0,"28":0,"29":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/SharedPtr.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/SharedPtr.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1},"b":{"1":[0,0],"2":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"SharedPtr","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":30},"end":{"line":8,"column":41}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":30},"end":{"line":14,"column":41}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":26},"end":{"line":27,"column":37}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":29},"end":{"line":31,"column":40}}},"6":{"name":"(anonymous_6)","line":35,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":22}},"5":{"start":{"line":8,"column":0},"end":{"line":12,"column":2}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":90}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":18}},"8":{"start":{"line":14,"column":0},"end":{"line":25,"column":2}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":18}},"10":{"start":{"line":17,"column":2},"end":{"line":20,"column":4}},"11":{"start":{"line":22,"column":2},"end":{"line":24,"column":3}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":23}},"13":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"14":{"start":{"line":28,"column":2},"end":{"line":28,"column":21}},"15":{"start":{"line":31,"column":0},"end":{"line":33,"column":2}},"16":{"start":{"line":32,"column":2},"end":{"line":32,"column":26}},"17":{"start":{"line":35,"column":0},"end":{"line":37,"column":2}},"18":{"start":{"line":36,"column":2},"end":{"line":36,"column":34}},"19":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":22,"column":2}},{"start":{"line":22,"column":2},"end":{"line":22,"column":2}}]},"2":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":9},"end":{"line":36,"column":12}},{"start":{"line":36,"column":16},"end":{"line":36,"column":25}},{"start":{"line":36,"column":29},"end":{"line":36,"column":33}}]}},"code":["var assert = require('assert');","","function SharedPtr(value) {","  this._refs = 1;","  this._value = value;","}","","SharedPtr.prototype.acquire = function() {","  assert(this.hasOwnProperty('_value'), \"Invalid attempt to acquire a dangling pointer!\");","","  this._refs += 1;","};","","SharedPtr.prototype.release = function() {","  this._refs -= 1;","","  assert(this._refs >= 0,","    \"Potential race condition or memory leak; shared pointer reference count \" +","    \"has gone below zero! (\" + this._refs + \")\"","  );","","  if (this._refs === 0) {","    delete this._value;","  }","};","","SharedPtr.prototype.get = function() {","  return this._value;","};","","SharedPtr.prototype.isDead = function() {","  return this._refs === 0;","};","","SharedPtr.safeGet = function(ptr) {","  return ptr && ptr.get() || null;","};","","module.exports = SharedPtr;",""],"l":{"1":1,"3":1,"4":0,"5":0,"8":1,"9":0,"11":0,"14":1,"15":0,"17":0,"22":0,"23":0,"27":1,"28":0,"31":1,"32":0,"35":1,"36":0,"39":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyThread.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyThread.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"HappyThread","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":38}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":22}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":10},"end":{"line":29,"column":28}}},"5":{"name":"(anonymous_5)","line":40,"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":39}}},"6":{"name":"acceptMessageFromWorker","line":46,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":65}}},"7":{"name":"(anonymous_7)","line":83,"loc":{"start":{"line":83,"column":75},"end":{"line":83,"column":99}}},"8":{"name":"(anonymous_8)","line":102,"loc":{"start":{"line":102,"column":15},"end":{"line":102,"column":59}}},"9":{"name":"(anonymous_9)","line":124,"loc":{"start":{"line":124,"column":13},"end":{"line":124,"column":36}}},"10":{"name":"(anonymous_10)","line":145,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":23}}},"11":{"name":"(anonymous_11)","line":149,"loc":{"start":{"line":149,"column":11},"end":{"line":149,"column":22}}},"12":{"name":"throwError","line":162,"loc":{"start":{"line":162,"column":0},"end":{"line":162,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":66}},"6":{"start":{"line":13,"column":0},"end":{"line":158,"column":1}},"7":{"start":{"line":14,"column":2},"end":{"line":14,"column":24}},"8":{"start":{"line":16,"column":2},"end":{"line":16,"column":9}},"9":{"start":{"line":17,"column":2},"end":{"line":17,"column":21}},"10":{"start":{"line":18,"column":2},"end":{"line":26,"column":7}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":20}},"12":{"start":{"line":21,"column":4},"end":{"line":25,"column":5}},"13":{"start":{"line":22,"column":6},"end":{"line":22,"column":29}},"14":{"start":{"line":24,"column":6},"end":{"line":24,"column":66}},"15":{"start":{"line":28,"column":2},"end":{"line":157,"column":4}},"16":{"start":{"line":30,"column":6},"end":{"line":30,"column":36}},"17":{"start":{"line":32,"column":6},"end":{"line":37,"column":9}},"18":{"start":{"line":39,"column":6},"end":{"line":39,"column":33}},"19":{"start":{"line":40,"column":6},"end":{"line":44,"column":9}},"20":{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},"21":{"start":{"line":42,"column":10},"end":{"line":42,"column":81}},"22":{"start":{"line":46,"column":6},"end":{"line":99,"column":9}},"23":{"start":{"line":47,"column":8},"end":{"line":98,"column":9}},"24":{"start":{"line":48,"column":10},"end":{"line":50,"column":11}},"25":{"start":{"line":49,"column":12},"end":{"line":49,"column":61}},"26":{"start":{"line":52,"column":10},"end":{"line":52,"column":22}},"27":{"start":{"line":54,"column":13},"end":{"line":98,"column":9}},"28":{"start":{"line":55,"column":10},"end":{"line":57,"column":12}},"29":{"start":{"line":59,"column":10},"end":{"line":59,"column":34}},"30":{"start":{"line":60,"column":10},"end":{"line":60,"column":39}},"31":{"start":{"line":62,"column":13},"end":{"line":98,"column":9}},"32":{"start":{"line":63,"column":10},"end":{"line":63,"column":44}},"33":{"start":{"line":65,"column":10},"end":{"line":67,"column":11}},"34":{"start":{"line":66,"column":12},"end":{"line":66,"column":109}},"35":{"start":{"line":69,"column":10},"end":{"line":72,"column":12}},"36":{"start":{"line":74,"column":10},"end":{"line":74,"column":41}},"37":{"start":{"line":75,"column":10},"end":{"line":75,"column":39}},"38":{"start":{"line":77,"column":13},"end":{"line":98,"column":9}},"39":{"start":{"line":78,"column":10},"end":{"line":80,"column":11}},"40":{"start":{"line":79,"column":12},"end":{"line":79,"column":108}},"41":{"start":{"line":83,"column":10},"end":{"line":97,"column":13}},"42":{"start":{"line":86,"column":12},"end":{"line":96,"column":15}},"43":{"start":{"line":103,"column":6},"end":{"line":103,"column":42}},"44":{"start":{"line":105,"column":6},"end":{"line":105,"column":34}},"45":{"start":{"line":107,"column":6},"end":{"line":114,"column":9}},"46":{"start":{"line":125,"column":6},"end":{"line":125,"column":42}},"47":{"start":{"line":127,"column":6},"end":{"line":127,"column":77}},"48":{"start":{"line":128,"column":6},"end":{"line":128,"column":79}},"49":{"start":{"line":130,"column":6},"end":{"line":130,"column":89}},"50":{"start":{"line":132,"column":6},"end":{"line":132,"column":34}},"51":{"start":{"line":134,"column":6},"end":{"line":136,"column":7}},"52":{"start":{"line":135,"column":8},"end":{"line":135,"column":97}},"53":{"start":{"line":138,"column":6},"end":{"line":142,"column":9}},"54":{"start":{"line":146,"column":6},"end":{"line":146,"column":18}},"55":{"start":{"line":150,"column":6},"end":{"line":150,"column":24}},"56":{"start":{"line":151,"column":6},"end":{"line":151,"column":16}},"57":{"start":{"line":153,"column":6},"end":{"line":155,"column":7}},"58":{"start":{"line":154,"column":8},"end":{"line":154,"column":59}},"59":{"start":{"line":160,"column":0},"end":{"line":160,"column":29}},"60":{"start":{"line":162,"column":0},"end":{"line":164,"column":1}},"61":{"start":{"line":163,"column":2},"end":{"line":163,"column":10}}},"branchMap":{"1":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":11},"end":{"line":14,"column":17}},{"start":{"line":14,"column":21},"end":{"line":14,"column":23}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":10},"end":{"line":48,"column":10}},{"start":{"line":48,"column":10},"end":{"line":48,"column":10}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":13},"end":{"line":54,"column":13}},{"start":{"line":54,"column":13},"end":{"line":54,"column":13}}]},"6":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":13},"end":{"line":62,"column":13}},{"start":{"line":62,"column":13},"end":{"line":62,"column":13}}]},"7":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":10},"end":{"line":65,"column":10}},{"start":{"line":65,"column":10},"end":{"line":65,"column":10}}]},"8":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":13},"end":{"line":77,"column":13}},{"start":{"line":77,"column":13},"end":{"line":77,"column":13}}]},"9":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":10},"end":{"line":78,"column":10}},{"start":{"line":78,"column":10},"end":{"line":78,"column":10}}]},"10":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":25},"end":{"line":92,"column":30}},{"start":{"line":92,"column":34},"end":{"line":92,"column":38}}]},"11":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":26},"end":{"line":93,"column":32}},{"start":{"line":93,"column":36},"end":{"line":93,"column":40}}]},"12":{"line":127,"type":"binary-expr","locations":[{"start":{"line":127,"column":13},"end":{"line":127,"column":32}},{"start":{"line":127,"column":36},"end":{"line":127,"column":75}}]},"13":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":13},"end":{"line":128,"column":33}},{"start":{"line":128,"column":37},"end":{"line":128,"column":77}}]},"14":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":6},"end":{"line":134,"column":6}},{"start":{"line":134,"column":6},"end":{"line":134,"column":6}}]},"15":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":6},"end":{"line":153,"column":6}},{"start":{"line":153,"column":6},"end":{"line":153,"column":6}}]}},"code":["var path = require('path');","var fork = require('child_process').fork;","var assert = require('assert');","var Once = require('./fnOnce');","var WORKER_BIN = path.resolve(__dirname, 'HappyWorkerChannel.js');","","/**"," * @param {String|Number} id"," * @param {Object?} config"," * @param {Boolean} [config.verbose=false]"," * @param {Boolean} [config.debug=false]"," */","function HappyThread(id, happyRPCHandler, config) {","  config = config || {};","","  var fd;","  var callbacks = {};","  var generateMessageId = (function() {","    var counter = 0;","","    return function() {","      var nextId = ++counter;","","      return 'Thread::' + id.toString() + ':' + nextId.toString();","    }","  }());","","  return {","    open: function(onReady) {","      var emitReady = Once(onReady);","","      fd = fork(WORKER_BIN, [id], {","        // Do not pass through any arguments that were passed to the main","        // process (webpack or node) because they could have unwanted","        // side-effects, see issue #47","        execArgv: []","      });","","      fd.on('error', throwError);","      fd.on('exit', function(exitCode) {","        if (exitCode !== 0) {","          emitReady('HappyPack: worker exited abnormally with code ' + exitCode);","        }","      });","","      fd.on('message', function acceptMessageFromWorker(message) {","        if (message.name === 'READY') {","          if (config.debug) {","            console.info('HappyThread[%s] is now open.', id);","          }","","          emitReady();","        }","        else if (message.name === 'CONFIGURE_DONE') {","          assert(typeof callbacks[message.id] === 'function',","            \"HappyThread: expected plugin to be awaiting a configuration ACK.\"","          );","","          callbacks[message.id]();","          delete callbacks[message.id];","        }","        else if (message.name === 'COMPILED') {","          var filePath = message.sourcePath;","","          if (config.debug) {","            console.log('HappyThread[%s]: a file has been compiled. (request=%s)', id, filePath, message.id);","          }","","          assert(typeof callbacks[message.id] === 'function',","            \"HappyThread: expected loader to be pending on source file '\" +","            filePath + \"'\" + \" (this is likely an internal error!)\"","          );","","          callbacks[message.id](message);","          delete callbacks[message.id];","        }","        else if (message.name === 'COMPILER_REQUEST') {","          if (config.debug) {","            console.log('HappyThread[%s]: forwarding compiler request from worker to plugin:', id, message);","          }","","          // TODO: DRY alert, see .createForegroundWorker() in HappyPlugin.js","          happyRPCHandler.execute(message.data.type, message.data.payload, function(error, result) {","            // console.log('forwarding compiler response from plugin back to worker:', error, result);","","            fd.send({","              id: message.id, // downstream id","              name: 'COMPILER_RESPONSE',","              data: {","                compilerId: message.data.compilerId,","                payload: {","                  error: error || null,","                  result: result || null","                }","              }","            });","          });","        }","      });","    },","","    configure: function(compilerId, compilerOptions, done) {","      var messageId = generateMessageId();","","      callbacks[messageId] = done;","","      fd.send({","        id: messageId,","        name: 'CONFIGURE',","        data: {","          compilerId: compilerId,","          compilerOptions: compilerOptions","        }","      });","    },","","    /**","     * @param {Object} params","     * @param {String} params.compiledPath","     * @param {Object} params.loaderContext","     *","     * @param {Function} done","     */","    compile: function(params, done) {","      var messageId = generateMessageId();","","      assert(params.compiledPath && typeof params.compiledPath === 'string');","      assert(params.loaderContext && typeof params.loaderContext === 'object');","","      assert(!!fd, \"You must launch a compilation thread before attemping to use it!!!\");","","      callbacks[messageId] = done;","","      if (config.debug) {","        console.log('HappyThread[%s]: compiling \"%s\"...', id, params.loaderContext.resourcePath);","      }","","      fd.send({","        id: messageId,","        name: 'COMPILE',","        data: params,","      });","    },","","    isOpen: function() {","      return !!fd;","    },","","    close: function() {","      fd.kill('SIGINT');","      fd = null;","","      if (config.debug) {","        console.info('HappyThread[%s] is now closed.', id);","      }","    },","  };","}","","module.exports = HappyThread;","","function throwError(e) {","  throw e;","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"13":1,"14":0,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"28":0,"30":0,"32":0,"39":0,"40":0,"41":0,"42":0,"46":0,"47":0,"48":0,"49":0,"52":0,"54":0,"55":0,"59":0,"60":0,"62":0,"63":0,"65":0,"66":0,"69":0,"74":0,"75":0,"77":0,"78":0,"79":0,"83":0,"86":0,"103":0,"105":0,"107":0,"125":0,"127":0,"128":0,"130":0,"132":0,"134":0,"135":0,"138":0,"146":0,"150":0,"151":0,"153":0,"154":0,"160":1,"162":1,"163":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/fnOnce.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/fnOnce.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"Once","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":18}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":9},"end":{"line":4,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":13,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":21}},"3":{"start":{"line":4,"column":2},"end":{"line":12,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":11,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":20}},"6":{"start":{"line":7,"column":6},"end":{"line":7,"column":39}},"7":{"start":{"line":10,"column":6},"end":{"line":10,"column":33}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]}},"code":["function Once(fn) {","  var called = false;","","  return function() {","    if (!called) {","      called = true;","      return fn.apply(null, arguments);","    }","    else {","      return Once.ALREADY_CALLED;","    }","  }","}","","Once.ALREADY_CALLED = Object.freeze({});","","module.exports = Once;"],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"7":0,"10":0,"15":1,"17":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyForegroundThreadPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyForegroundThreadPool.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"HappyForegroundThreadPool","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":65}}},"3":{"name":"executeCompilerRPC","line":23,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":51}}},"4":{"name":"serveRPCResult","line":25,"loc":{"start":{"line":25,"column":70},"end":{"line":25,"column":109}}},"5":{"name":"(anonymous_5)","line":49,"loc":{"start":{"line":49,"column":15},"end":{"line":49,"column":26}}},"6":{"name":"(anonymous_6)","line":53,"loc":{"start":{"line":53,"column":10},"end":{"line":53,"column":35}}},"7":{"name":"(anonymous_7)","line":58,"loc":{"start":{"line":58,"column":13},"end":{"line":58,"column":54}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":29},"end":{"line":61,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"4":{"start":{"line":13,"column":0},"end":{"line":68,"column":1}},"5":{"start":{"line":14,"column":2},"end":{"line":14,"column":25}},"6":{"start":{"line":16,"column":2},"end":{"line":67,"column":4}},"7":{"start":{"line":20,"column":6},"end":{"line":34,"column":9}},"8":{"start":{"line":25,"column":10},"end":{"line":32,"column":13}},"9":{"start":{"line":26,"column":12},"end":{"line":31,"column":15}},"10":{"start":{"line":36,"column":6},"end":{"line":36,"column":47}},"11":{"start":{"line":38,"column":6},"end":{"line":38,"column":41}},"12":{"start":{"line":39,"column":6},"end":{"line":39,"column":62}},"13":{"start":{"line":41,"column":6},"end":{"line":44,"column":9}},"14":{"start":{"line":46,"column":6},"end":{"line":46,"column":13}},"15":{"start":{"line":50,"column":6},"end":{"line":50,"column":22}},"16":{"start":{"line":54,"column":6},"end":{"line":54,"column":20}},"17":{"start":{"line":55,"column":6},"end":{"line":55,"column":24}},"18":{"start":{"line":59,"column":6},"end":{"line":59,"column":56}},"19":{"start":{"line":61,"column":6},"end":{"line":65,"column":9}},"20":{"start":{"line":62,"column":8},"end":{"line":62,"column":52}},"21":{"start":{"line":64,"column":8},"end":{"line":64,"column":36}},"22":{"start":{"line":70,"column":0},"end":{"line":70,"column":43}}},"branchMap":{"1":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":23},"end":{"line":28,"column":28}},{"start":{"line":28,"column":32},"end":{"line":28,"column":36}}]},"2":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":24},"end":{"line":29,"column":30}},{"start":{"line":29,"column":34},"end":{"line":29,"column":38}}]}},"code":["var HappyFakeCompiler = require('./HappyFakeCompiler');","var HappyRPCHandler = require('./HappyRPCHandler');","var HappyWorker = require('./HappyWorker');","","/**"," * Create a thread pool that can be shared between multiple plugin instances."," *"," * @param {Object} config"," *"," * @param {Array.<String>} config.loaders"," *        The loaders to configure the (foreground) worker with."," */","function HappyForegroundThreadPool(config) {","  var rpcHandler, worker;","","  return {","    size: config.size,","","    start: function(compilerId, compiler, compilerOptions, done) {","      var fakeCompiler = new HappyFakeCompiler({","        id: 'foreground',","        compilerId: compilerId,","        send: function executeCompilerRPC(message) {","          // TODO: DRY alert, see HappyThread.js","          rpcHandler.execute(message.data.type, message.data.payload, function serveRPCResult(error, result) {","            fakeCompiler._handleResponse(message.id, {","              payload: {","                error: error || null,","                result: result || null","              }","            });","          });","        }","      });","","      fakeCompiler.configure(compiler.options);","","      rpcHandler = new HappyRPCHandler();","      rpcHandler.registerActiveCompiler(compilerId, compiler);","","      worker = new HappyWorker({","        compiler: fakeCompiler,","        loaders: config.loaders","      });","","      done();","    },","","    isRunning: function() {","      return !!worker;","    },","","    stop: function(/*compilerId*/) {","      worker = null;","      rpcHandler = null;","    },","","    compile: function(loaderId, loader, params, done) {","      rpcHandler.registerActiveLoader(loaderId, loader);","","      worker.compile(params, function() {","        rpcHandler.unregisterActiveLoader(loaderId);","","        done.apply(null, arguments);","      });","    },","  };","}","","module.exports = HappyForegroundThreadPool;"],"l":{"1":1,"2":1,"3":1,"13":1,"14":0,"16":0,"20":0,"25":0,"26":0,"36":0,"38":0,"39":0,"41":0,"46":0,"50":0,"54":0,"55":0,"59":0,"61":0,"62":0,"64":0,"70":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyFakeCompiler.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyFakeCompiler.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"HappyFakeCompiler","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":18},"end":{"line":31,"column":44}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":50}}},"4":{"name":"(anonymous_4)","line":59,"loc":{"start":{"line":59,"column":24},"end":{"line":59,"column":46}}},"5":{"name":"(anonymous_5)","line":77,"loc":{"start":{"line":77,"column":21},"end":{"line":77,"column":51}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"3":{"start":{"line":9,"column":0},"end":{"line":27,"column":1}},"4":{"start":{"line":10,"column":2},"end":{"line":11,"column":51}},"5":{"start":{"line":13,"column":2},"end":{"line":14,"column":59}},"6":{"start":{"line":16,"column":2},"end":{"line":17,"column":68}},"7":{"start":{"line":19,"column":2},"end":{"line":19,"column":90}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":39}},"9":{"start":{"line":21,"column":2},"end":{"line":21,"column":38}},"10":{"start":{"line":22,"column":2},"end":{"line":22,"column":22}},"11":{"start":{"line":23,"column":2},"end":{"line":23,"column":22}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":20}},"13":{"start":{"line":25,"column":2},"end":{"line":25,"column":22}},"14":{"start":{"line":26,"column":2},"end":{"line":26,"column":28}},"15":{"start":{"line":29,"column":0},"end":{"line":29,"column":40}},"16":{"start":{"line":31,"column":0},"end":{"line":36,"column":2}},"17":{"start":{"line":32,"column":2},"end":{"line":32,"column":65}},"18":{"start":{"line":34,"column":2},"end":{"line":34,"column":33}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":41}},"20":{"start":{"line":51,"column":0},"end":{"line":56,"column":2}},"21":{"start":{"line":52,"column":2},"end":{"line":55,"column":11}},"22":{"start":{"line":59,"column":0},"end":{"line":74,"column":2}},"23":{"start":{"line":60,"column":2},"end":{"line":60,"column":15}},"24":{"start":{"line":62,"column":2},"end":{"line":62,"column":34}},"25":{"start":{"line":62,"column":27},"end":{"line":62,"column":34}},"26":{"start":{"line":64,"column":2},"end":{"line":65,"column":62}},"27":{"start":{"line":67,"column":2},"end":{"line":68,"column":62}},"28":{"start":{"line":70,"column":2},"end":{"line":70,"column":32}},"29":{"start":{"line":71,"column":2},"end":{"line":71,"column":28}},"30":{"start":{"line":73,"column":2},"end":{"line":73,"column":58}},"31":{"start":{"line":77,"column":0},"end":{"line":90,"column":2}},"32":{"start":{"line":78,"column":2},"end":{"line":78,"column":66}},"33":{"start":{"line":80,"column":2},"end":{"line":80,"column":35}},"34":{"start":{"line":81,"column":2},"end":{"line":89,"column":5}},"35":{"start":{"line":92,"column":0},"end":{"line":92,"column":35}}},"branchMap":{"1":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":9},"end":{"line":32,"column":24}},{"start":{"line":32,"column":28},"end":{"line":32,"column":63}}]},"2":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":2},"end":{"line":62,"column":2}},{"start":{"line":62,"column":2},"end":{"line":62,"column":2}}]}},"code":["var assert = require('assert');","var fs = require('fs');","","/**"," * @param {String} params.id"," * @param {String} params.compilerId"," * @param {Function} params.send"," */","function HappyFakeCompiler(params) {","  assert(typeof params.id === 'string',","    \"id must be assigned to a HappyFakeCompiler.\");","","  assert(typeof params.compilerId === 'string',","    \"compilerId must be assigned to a HappyFakeCompiler.\");","","  assert(typeof params.send === 'function',","    \"send implementation must be assigned to a HappyFakeCompiler.\");","","  this._id = 'FakeCompiler::' + params.id.toString() + '-' + params.compilerId.toString();","  this._compilerId = params.compilerId;","  this._sendMessageImpl = params.send;","  this._requests = {};","  this._messageId = 0;","  this.options = {};","  this.context = null;","  this.inputFileSystem = fs;","}","","var HFCPt = HappyFakeCompiler.prototype;","","HFCPt.configure = function(compilerOptions) {","  assert(compilerOptions && typeof compilerOptions === 'object');","","  this.options = compilerOptions;","  this.context = compilerOptions.context;","};","","/**"," * @public"," *"," * @param  {String}   context"," * @param  {String}   resource"," * @param  {Function} done"," *"," * @param {String} [done.error=null]"," *        A resolving error, if any."," *"," * @param {String} done.filePath"," *        The resolved file path."," */","HFCPt.resolve = function(context, resource, done) {","  this._sendMessage('resolve', {","    context: context,","    resource: resource","  }, done);","};","","// @private","HFCPt._handleResponse = function(id, message) {","  var callback;","","  if (!this._requests[id]) return; // not for us","","  assert(message.payload.hasOwnProperty('error'),","    \"Compiler message payload must contain an @error field!\");","","  assert(message.payload.hasOwnProperty('result'),","    \"Compiler message payload must contain a @result field!\");","","  callback = this._requests[id];","  delete this._requests[id];","","  callback(message.payload.error, message.payload.result);","};","","// @private","HFCPt._sendMessage = function(type, payload, done) {","  var messageId = this._id + ':' + (++this._messageId).toString();","","  this._requests[messageId] = done;","  this._sendMessageImpl({","    id: messageId,","    name: 'COMPILER_REQUEST',","    data: {","      type: type,","      compilerId: this._compilerId,","      payload: payload,","    }","  });","};","","module.exports = HappyFakeCompiler;"],"l":{"1":1,"2":1,"9":1,"10":0,"13":0,"16":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"29":1,"31":1,"32":0,"34":0,"35":0,"51":1,"52":0,"59":1,"60":0,"62":0,"64":0,"67":0,"70":0,"71":0,"73":0,"77":1,"78":0,"80":0,"81":0,"92":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyWorker.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyWorker.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"HappyWorker","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":55}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":70},"end":{"line":36,"column":103}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":59}},"6":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":35}},"8":{"start":{"line":19,"column":0},"end":{"line":57,"column":2}},"9":{"start":{"line":20,"column":2},"end":{"line":22,"column":4}},"10":{"start":{"line":24,"column":2},"end":{"line":26,"column":4}},"11":{"start":{"line":28,"column":2},"end":{"line":30,"column":4}},"12":{"start":{"line":32,"column":2},"end":{"line":56,"column":5}},"13":{"start":{"line":37,"column":4},"end":{"line":37,"column":43}},"14":{"start":{"line":38,"column":4},"end":{"line":38,"column":24}},"15":{"start":{"line":40,"column":4},"end":{"line":49,"column":5}},"16":{"start":{"line":41,"column":6},"end":{"line":41,"column":25}},"17":{"start":{"line":42,"column":6},"end":{"line":42,"column":67}},"18":{"start":{"line":45,"column":6},"end":{"line":45,"column":45}},"19":{"start":{"line":46,"column":6},"end":{"line":46,"column":88}},"20":{"start":{"line":48,"column":6},"end":{"line":48,"column":21}},"21":{"start":{"line":51,"column":4},"end":{"line":55,"column":7}},"22":{"start":{"line":59,"column":0},"end":{"line":59,"column":29}}},"branchMap":{"1":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":4}},{"start":{"line":40,"column":4},"end":{"line":40,"column":4}}]}},"code":["var fs = require('fs');","var assert = require('assert');","var applyLoaders = require('./applyLoaders');","var serializeError = require('./serializeError');","var SourceMapSerializer = require('./SourceMapSerializer');","","function HappyWorker(params) {","  this._compiler = params.compiler;","}","","/**"," * @param  {Object} params"," * @param  {Object} params.loaderContext"," * @param  {String} params.loaderContext.resourcePath"," * @param  {String} params.compiledPath"," * @param  {Array.<String>} params.loaders"," * @param  {Function} done"," */","HappyWorker.prototype.compile = function(params, done) {","  assert(typeof params.loaderContext.resourcePath === 'string',","    \"ArgumentError: expected params.sourcePath to contain path to the source file.\"","  );","","  assert(typeof params.compiledPath === 'string',","    \"ArgumentError: expected params.compiledPath to contain path to the compiled file.\"","  );","","  assert(Array.isArray(params.loaders),","    \"ArgumentError: expected params.loaders to contain a list of loaders.\"","  );","","  applyLoaders({","    compiler: this._compiler,","    loaders: params.loaders,","    loaderContext: params.loaderContext,","  }, params.loaderContext.sourceCode, params.loaderContext.sourceMap, function(err, source, sourceMap) {","    var compiledPath = params.compiledPath;","    var success = false;","","    if (err) {","      console.error(err);","      fs.writeFileSync(compiledPath, serializeError(err), 'utf-8');","    }","    else {","      fs.writeFileSync(compiledPath, source);","      fs.writeFileSync(compiledPath + '.map', SourceMapSerializer.serialize(sourceMap));","","      success = true;","    }","","    done({","      sourcePath: params.loaderContext.resourcePath,","      compiledPath: compiledPath,","      success: success","    });","  });","};","","module.exports = HappyWorker;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"19":1,"20":0,"24":0,"28":0,"32":0,"37":0,"38":0,"40":0,"41":0,"42":0,"45":0,"46":0,"48":0,"51":0,"59":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/applyLoaders.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/applyLoaders.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"applyLoaders","line":77,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":80}}},"2":{"name":"(anonymous_2)","line":81,"loc":{"start":{"line":81,"column":39},"end":{"line":81,"column":56}}},"3":{"name":"exposeLoaderSetToEachLoader","line":110,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":70}}},"4":{"name":"(anonymous_4)","line":116,"loc":{"start":{"line":116,"column":63},"end":{"line":116,"column":90}}},"5":{"name":"applyPitchLoaders","line":177,"loc":{"start":{"line":177,"column":0},"end":{"line":177,"column":51}}},"6":{"name":"applyPitchLoader","line":180,"loc":{"start":{"line":180,"column":3},"end":{"line":180,"column":46}}},"7":{"name":"(anonymous_7)","line":205,"loc":{"start":{"line":205,"column":9},"end":{"line":205,"column":46}}},"8":{"name":"(anonymous_8)","line":222,"loc":{"start":{"line":222,"column":19},"end":{"line":222,"column":30}}},"9":{"name":"NormalLoaderApplier","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":255,"column":53}}},"10":{"name":"apply","line":256,"loc":{"start":{"line":256,"column":9},"end":{"line":256,"column":68}}},"11":{"name":"(anonymous_11)","line":269,"loc":{"start":{"line":269,"column":6},"end":{"line":269,"column":47}}},"12":{"name":"applySyncOrAsync","line":323,"loc":{"start":{"line":323,"column":0},"end":{"line":323,"column":51}}},"13":{"name":"(anonymous_13)","line":327,"loc":{"start":{"line":327,"column":36},"end":{"line":327,"column":47}}},"14":{"name":"(anonymous_14)","line":333,"loc":{"start":{"line":333,"column":33},"end":{"line":333,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":65}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":77,"column":0},"end":{"line":134,"column":1}},"5":{"start":{"line":78,"column":2},"end":{"line":78,"column":68}},"6":{"start":{"line":81,"column":2},"end":{"line":108,"column":5}},"7":{"start":{"line":82,"column":4},"end":{"line":107,"column":6}},"8":{"start":{"line":110,"column":2},"end":{"line":113,"column":5}},"9":{"start":{"line":111,"column":4},"end":{"line":111,"column":37}},"10":{"start":{"line":112,"column":4},"end":{"line":112,"column":39}},"11":{"start":{"line":116,"column":2},"end":{"line":133,"column":5}},"12":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"13":{"start":{"line":118,"column":6},"end":{"line":118,"column":23}},"14":{"start":{"line":121,"column":4},"end":{"line":121,"column":72}},"15":{"start":{"line":125,"column":4},"end":{"line":132,"column":5}},"16":{"start":{"line":126,"column":6},"end":{"line":126,"column":83}},"17":{"start":{"line":131,"column":6},"end":{"line":131,"column":55}},"18":{"start":{"line":177,"column":0},"end":{"line":223,"column":1}},"19":{"start":{"line":178,"column":2},"end":{"line":178,"column":46}},"20":{"start":{"line":180,"column":2},"end":{"line":222,"column":48}},"21":{"start":{"line":181,"column":4},"end":{"line":181,"column":33}},"22":{"start":{"line":183,"column":4},"end":{"line":221,"column":5}},"23":{"start":{"line":184,"column":6},"end":{"line":189,"column":9}},"24":{"start":{"line":191,"column":9},"end":{"line":221,"column":5}},"25":{"start":{"line":192,"column":6},"end":{"line":192,"column":51}},"26":{"start":{"line":201,"column":6},"end":{"line":220,"column":9}},"27":{"start":{"line":206,"column":8},"end":{"line":219,"column":9}},"28":{"start":{"line":207,"column":10},"end":{"line":207,"column":20}},"29":{"start":{"line":209,"column":13},"end":{"line":219,"column":9}},"30":{"start":{"line":210,"column":10},"end":{"line":215,"column":13}},"31":{"start":{"line":218,"column":10},"end":{"line":218,"column":48}},"32":{"start":{"line":222,"column":32},"end":{"line":222,"column":42}},"33":{"start":{"line":255,"column":0},"end":{"line":278,"column":1}},"34":{"start":{"line":256,"column":2},"end":{"line":277,"column":4}},"35":{"start":{"line":257,"column":4},"end":{"line":257,"column":33}},"36":{"start":{"line":258,"column":4},"end":{"line":258,"column":16}},"37":{"start":{"line":260,"column":4},"end":{"line":262,"column":5}},"38":{"start":{"line":261,"column":6},"end":{"line":261,"column":47}},"39":{"start":{"line":264,"column":4},"end":{"line":264,"column":29}},"40":{"start":{"line":265,"column":4},"end":{"line":265,"column":35}},"41":{"start":{"line":266,"column":4},"end":{"line":266,"column":44}},"42":{"start":{"line":268,"column":4},"end":{"line":276,"column":6}},"43":{"start":{"line":270,"column":8},"end":{"line":272,"column":9}},"44":{"start":{"line":271,"column":10},"end":{"line":271,"column":27}},"45":{"start":{"line":274,"column":8},"end":{"line":274,"column":69}},"46":{"start":{"line":323,"column":0},"end":{"line":355,"column":1}},"47":{"start":{"line":324,"column":2},"end":{"line":324,"column":39}},"48":{"start":{"line":327,"column":2},"end":{"line":331,"column":58}},"49":{"start":{"line":328,"column":4},"end":{"line":328,"column":38}},"50":{"start":{"line":330,"column":4},"end":{"line":330,"column":39}},"51":{"start":{"line":333,"column":2},"end":{"line":337,"column":55}},"52":{"start":{"line":334,"column":4},"end":{"line":334,"column":38}},"53":{"start":{"line":336,"column":4},"end":{"line":336,"column":16}},"54":{"start":{"line":339,"column":2},"end":{"line":354,"column":3}},"55":{"start":{"line":341,"column":4},"end":{"line":341,"column":41}},"56":{"start":{"line":343,"column":4},"end":{"line":350,"column":5}},"57":{"start":{"line":344,"column":6},"end":{"line":349,"column":7}},"58":{"start":{"line":345,"column":8},"end":{"line":345,"column":27}},"59":{"start":{"line":348,"column":8},"end":{"line":348,"column":15}},"60":{"start":{"line":353,"column":4},"end":{"line":353,"column":12}}},"branchMap":{"1":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"2":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":4}},{"start":{"line":125,"column":4},"end":{"line":125,"column":4}}]},"3":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":4},"end":{"line":183,"column":4}},{"start":{"line":183,"column":4},"end":{"line":183,"column":4}}]},"4":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":9},"end":{"line":191,"column":9}},{"start":{"line":191,"column":9},"end":{"line":191,"column":9}}]},"5":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":8},"end":{"line":206,"column":8}},{"start":{"line":206,"column":8},"end":{"line":206,"column":8}}]},"6":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":13},"end":{"line":209,"column":13}},{"start":{"line":209,"column":13},"end":{"line":209,"column":13}}]},"7":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":4},"end":{"line":260,"column":4}},{"start":{"line":260,"column":4},"end":{"line":260,"column":4}}]},"8":{"line":266,"type":"binary-expr","locations":[{"start":{"line":266,"column":26},"end":{"line":266,"column":37}},{"start":{"line":266,"column":41},"end":{"line":266,"column":43}}]},"9":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":8},"end":{"line":270,"column":8}},{"start":{"line":270,"column":8},"end":{"line":270,"column":8}}]},"10":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":4},"end":{"line":343,"column":4}},{"start":{"line":343,"column":4},"end":{"line":343,"column":4}}]},"11":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":6},"end":{"line":344,"column":6}},{"start":{"line":344,"column":6},"end":{"line":344,"column":6}}]}},"code":["var HappyFakeLoaderContext = require('./HappyFakeLoaderContext');","var fnOncePedantic = require('./fnOncePedantic');","var assert = require('assert');","","/**"," * If this ain't a monster, I don't know what is."," *"," *"," *               .'''''-,              ,-`````."," *               `-.._  |              |  _..-'"," *                  \\    `,          ,'    /"," *                  '=   ,/          \\,   =`"," *                  '=   (            )   =`"," *                 .\\    /            \\    /."," *                /  `,.'              `.,'  \\"," *                \\   `.                ,'   /"," *                 \\    \\              /    /"," *                  \\   .`.  __.---. ,`.   /"," *                   \\.' .'``        `. `./"," *                    \\.'  -'''-..     `./"," *                    /  /        '.      \\"," *                   /  / .--  .-'''`      '."," *                  '   |    ,---.    _      \\"," *      /``-----._.-.   \\   / ,-. '-'   '.   .-._.-----``\\"," *      \\__ .     | :    `.' ((O))   ,-.  \\  : |     . __/"," *       `.  '-...\\_`     |   '-'   ((O)) |  '_/...-`  .'"," *  .----..)    `    \\     \\      /  '-'  / /    '    (..----."," * (o      `.  /      \\     \\    /\\     .' /      \\  .'      o)"," *  ```---..   `.     /`.    '--'  '---' .'\\     .'   ..---```"," *          `-.  `.  /`.  `.           .' .'\\  .'  .-'"," *             `..` /   `.'  ` - - - ' `.'   \\ '..'"," *                 /    /                \\    \\"," *                /   ,'                  `.   \\"," *                \\  ,'`.                .'`.  /"," *                 `/    \\              /    \\'"," *                  ,=   (              )   =,"," *                  ,=   '\\            /`   =,"," *    LGB           /    .'            `.    \\"," *               .-'''  |                |  ```-."," *               `......'                `......'"," *"," * @param {Object}            runContext"," * @param {HappyFakeCompiler} runContext.compiler"," * @param {Array.<Object>}    runContext.loaders"," * @param {Object}            runContext.loaderContext"," *"," * @param {String}            runContext.loaderContext.remoteLoaderId"," *        The ID of the HappyLoader instance that initiated this compilation"," *        request."," *"," * @param {String}            runContext.loaderContext.request"," *        The full request for the resource including the loader chain string."," *        Something like:"," *          '/path/to/style-loader.js!/path/to/css-loader.js!/path/to/resource.css'"," *"," * @param {String}            runContext.loaderContext.context"," *        The directory of the resource, useful for resolving siblings."," *"," * @param {String}            runContext.loaderContext.resource"," *        The resource path without the loader chain. This includes the file"," *        and the query fragment."," *"," * @param {String}            runContext.loaderContext.resourcePath"," *        The resource file."," *"," * @param {String}            runContext.loaderContext.resourceQuery"," *        The resource query."," *"," * @param {String}            sourceCode"," * @param {Object}            sourceMap"," *"," * @param {Function}          done"," * @param {String|Error}      done.err"," * @param {String}            done.sourceCode"," * @param {Object}            done.sourceMap"," */","module.exports = function applyLoaders(runContext, sourceCode, sourceMap, done) {","  assert(runContext.compiler, \"Missing webpack compiler instance!\");","","  // we start out by creating fake loader contexts for every loader","  var loaders = runContext.loaders.map(function(loader) {","    return {","      request: loader.request,","      path: loader.path,","      query: loader.query,","      module: require(loader.path),","","      // TODO: this is probably not the best place to create the context, and it","      // also should be cached at some layer","      context: HappyFakeLoaderContext({","        _compiler: runContext.compiler, // for compiler RPCs","        _remoteLoaderId: runContext.loaderContext.remoteLoaderId, // for loader RPCs","        fs: runContext.compiler.inputFileSystem,","","        query: loader.query,","        options: runContext.compiler.options,","","        request: runContext.loaderContext.request,","        resource: runContext.loaderContext.resource,","        resourcePath: runContext.loaderContext.resourcePath,","        resourceQuery: runContext.loaderContext.resourceQuery,","        context: runContext.loaderContext.context,","","        sourceMap: Boolean(runContext.loaderContext.useSourceMap),","        target: runContext.loaderContext.target,","      })","    };","  });","","  loaders.forEach(function exposeLoaderSetToEachLoader(loader, index) {","    loader.context.loaders = loaders;","    loader.context.loaderIndex = index;","  });","","  // Go through the pitching phase. This might affect the loader contexts.","  applyPitchLoaders(runContext.loaderContext.request, loaders, function(err, pitchResult) {","    if (err) {","      return done(err);","    }","","    var apply = NormalLoaderApplier(loaders, pitchResult.dataMap, done);","","    // pitching phase did yield something so we skip the loaders to the right","    // and use the yielded code as the starting sourceCode","    if (pitchResult.sourceCode) {","      apply(pitchResult.cursor - 1, pitchResult.sourceCode, pitchResult.sourceMap);","    }","    // otherwise, we just start from the right-most loader using the input","    // source code and map:","    else {","      apply(loaders.length - 1, sourceCode, sourceMap);","    }","  });","}","","// Perform the loader pitching phase.","//","// Pitching loaders are applied from left to right. Each loader is presented","// with the request string disected into two bits; from the start until its","// place in the string, then the remainder of the request.","//","// For example, for a request like the following:","//","//     \"c!b!a!./foo.js\"","//","// The run order will be like the following with the inputs outlined at each","// application step:","//","// 1. Loader \"c\"","//","//     [remainingRequest] => \"b!a!./foo.js\"","//     [precedingRequest] => \"\"","//","// 2. Loader \"b\"","//","//     [remainingRequest] => \"a!./foo.js\"","//     [precedingRequest] => \"c\"","//","// 2. Loader \"a\"","//","//     [remainingRequest] => \"./foo.js\"","//     [precedingRequest] => \"c!b\"","//","// Finally, it is also presented with a special \"data\" state variable that will","// be shared between the pitch and normal phases for **that specific loader**.","//","// For example:","//","//     module.exports = function() {","//       console.log(this.data.value); // => 42","//     };","//","//     module.exports.pitch = function(_, _, data) {","//       data.value = 42;","//     };","//","function applyPitchLoaders(request, loaders, done) {","  var requestFragments = request.split(/\\!/g);","","  (function applyPitchLoader(cursor, dataMap) {","    var loader = loaders[cursor];","","    if (!loader) {","      return done(null, {","        cursor: null,","        sourceCode: null,","        sourceMap: null,","        dataMap: dataMap,","      });","    }","    else if (!loader.module.pitch) {","      return applyPitchLoader(cursor + 1, dataMap);","    }","    else {","      // pitch loader, when applied, may modify any of these context variables:","      //","      // - this.resourcePath","      // - this.resourceQuery","      // - this.resource","      // - this.loaderIndex (TODO: why would this be modified? does it affect the run order?!)","      applySyncOrAsync(loader.module.pitch, loader.context, [","        requestFragments.slice(cursor+1).join('!'),","        requestFragments.slice(0, cursor).join('!'),","        dataMap[cursor]","      ], function(err, sourceCode, sourceMap) {","        if (err) {","          done(err);","        }","        else if (sourceCode) {","          done(null, {","            cursor: cursor,","            sourceCode: sourceCode,","            sourceMap: sourceMap,","            dataMap: dataMap,","          });","        }","        else {","          applyPitchLoader(cursor + 1, dataMap);","        }","      });","    }","  }(0, loaders.map(function() { return {}; })));","}","","// Generates a function that will perform the \"normal\" loader phase (ie","// non-pitching.)","//","// Normal loaders are applied from right-to-left and may yield one or both of","// \"sourceCode\" and \"sourceMap\" values.","//","// Each application will forward a state variable called \"inputValues\" to the","// succeeding loader, which gets populated as \"values\" in the preceding one.","//","// For example, for a request like this \"b!a!./foo.js\"","//","//     // a-loader.js","//     module.exports = function(code) {","//       this.values = { foo: 'bar' };","//","//       return code;","//     };","//","//     // b-loader.js","//     module.exports = function(code) {","//       console.log(this.inputValues); // { foo: \"bar\" };","//","//       return code;","//     };","//","// @param {Array.<Object>} dataMap","//        Data generated during the pitching phase. This set is expected to be","//        fully populated (even if each item is an empty object) and be ordered","//        after the loaders in the @loaders array.","//","function NormalLoaderApplier(loaders, dataMap, done) {","  return function apply(cursor, sourceCode, sourceMap, inputValues) {","    var loader = loaders[cursor];","    var context;","","    if (!loader) {","      return done(null, sourceCode, sourceMap);","    }","","    context = loader.context;","    context.data = dataMap[cursor];","    context.inputValues = inputValues || {};","","    applySyncOrAsync(loader.module, context, [ sourceCode, sourceMap ],","      function(err, nextSource, nextSourceMap) {","        if (err) {","          return done(err);","        }","","        apply(cursor - 1, nextSource, nextSourceMap, context.values);","      }","    );","  };","}","","// Utility function for applying a function and accepting a result in one of","// three ways:","//","// - a synchronous return, where only one value may be yielded","// - a multi-value yield using a generated `this.callback(...)` callback","// - a multi-value yield that is also asynchronous using `callback = this.async();`","//","// @done will always be called with {String|Error, ...} for an error and the","// yielded values.","//","// Example victims:","//","// 1. Synchronous, single-yield:","//","//     function() {","//       return 'hello!';","//     }","//","// 2. Synchronous, multi-yield:","//","//     function() {","//       this.callback(null, 'hello', 'world!');","//     }","//","// 3. Asynchronous, single-yield:","//","//     function() {","//       var callback = this.async();","//","//       setTimeout(function() {","//         callback(null, 'hello');","//       }, 1000);","//     }","//","// 4. Asynchronous, multi-yield:","//","//     function() {","//       var callback = this.async();","//","//       setTimeout(function() {","//         callback(null, 'hello', 'world!');","//       }, 1000);","//     }","function applySyncOrAsync(fn, context, args, done) {","  var expectSynchronousResponse = true;","","  // sync/async this.callback() style","  context.callback = fnOncePedantic(function() {","    expectSynchronousResponse = false;","","    return done.apply(null, arguments);","  }, \"this.callback(): The callback was already called.\");","","  context.async = fnOncePedantic(function() {","    expectSynchronousResponse = false;","","    return done;","  }, \"this.async(): The callback was already called.\");","","  try {","    // synchronus return style","    var result = fn.apply(context, args);","","    if (expectSynchronousResponse) {","      if (result) {","        done(null, result);","      }","      else {","        done();","      }","    }","  }","  catch(e) { // abort the chain","    done(e);","  }","}",""],"l":{"1":1,"2":1,"3":1,"77":1,"78":0,"81":0,"82":0,"110":0,"111":0,"112":0,"116":0,"117":0,"118":0,"121":0,"125":0,"126":0,"131":0,"177":1,"178":0,"180":0,"181":0,"183":0,"184":0,"191":0,"192":0,"201":0,"206":0,"207":0,"209":0,"210":0,"218":0,"222":0,"255":1,"256":0,"257":0,"258":0,"260":0,"261":0,"264":0,"265":0,"266":0,"268":0,"270":0,"271":0,"274":0,"323":1,"324":0,"327":0,"328":0,"330":0,"333":0,"334":0,"336":0,"339":0,"341":0,"343":0,"344":0,"345":0,"348":0,"353":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyFakeLoaderContext.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyFakeLoaderContext.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":2,"52":0,"53":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":2,"13":0},"fnMap":{"1":{"name":"HappyFakeLoaderContext","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}}},"2":{"name":"(anonymous_2)","line":35,"loc":{"start":{"line":35,"column":21},"end":{"line":35,"column":32}}},"3":{"name":"(anonymous_3)","line":41,"loc":{"start":{"line":41,"column":23},"end":{"line":41,"column":41}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":21},"end":{"line":48,"column":39}}},"5":{"name":"(anonymous_5)","line":55,"loc":{"start":{"line":55,"column":19},"end":{"line":55,"column":53}}},"6":{"name":"(anonymous_6)","line":61,"loc":{"start":{"line":61,"column":25},"end":{"line":61,"column":40}}},"7":{"name":"(anonymous_7)","line":68,"loc":{"start":{"line":68,"column":32},"end":{"line":68,"column":47}}},"8":{"name":"(anonymous_8)","line":75,"loc":{"start":{"line":75,"column":29},"end":{"line":75,"column":40}}},"9":{"name":"(anonymous_9)","line":81,"loc":{"start":{"line":81,"column":20},"end":{"line":81,"column":56}}},"10":{"name":"(anonymous_10)","line":90,"loc":{"start":{"line":90,"column":22},"end":{"line":90,"column":47}}},"11":{"name":"(anonymous_11)","line":100,"loc":{"start":{"line":100,"column":43},"end":{"line":100,"column":57}}},"12":{"name":"NotSupported","line":111,"loc":{"start":{"line":111,"column":0},"end":{"line":111,"column":30}}},"13":{"name":"(anonymous_13)","line":112,"loc":{"start":{"line":112,"column":9},"end":{"line":112,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":65}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":109,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":32}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":21}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":25}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":24}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":22}},"11":{"start":{"line":18,"column":2},"end":{"line":18,"column":24}},"12":{"start":{"line":19,"column":2},"end":{"line":19,"column":25}},"13":{"start":{"line":20,"column":2},"end":{"line":20,"column":29}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":30}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":19}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":24}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":25}},"18":{"start":{"line":27,"column":2},"end":{"line":27,"column":24}},"19":{"start":{"line":28,"column":2},"end":{"line":28,"column":23}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":27}},"21":{"start":{"line":31,"column":2},"end":{"line":31,"column":19}},"22":{"start":{"line":32,"column":2},"end":{"line":32,"column":24}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":35}},"24":{"start":{"line":36,"column":2},"end":{"line":36,"column":25}},"25":{"start":{"line":37,"column":2},"end":{"line":37,"column":22}},"26":{"start":{"line":39,"column":2},"end":{"line":39,"column":33}},"27":{"start":{"line":41,"column":2},"end":{"line":46,"column":4}},"28":{"start":{"line":42,"column":4},"end":{"line":45,"column":7}},"29":{"start":{"line":48,"column":2},"end":{"line":53,"column":4}},"30":{"start":{"line":49,"column":4},"end":{"line":52,"column":7}},"31":{"start":{"line":55,"column":2},"end":{"line":57,"column":4}},"32":{"start":{"line":56,"column":4},"end":{"line":56,"column":54}},"33":{"start":{"line":59,"column":2},"end":{"line":59,"column":47}},"34":{"start":{"line":61,"column":2},"end":{"line":66,"column":4}},"35":{"start":{"line":62,"column":4},"end":{"line":65,"column":7}},"36":{"start":{"line":68,"column":2},"end":{"line":73,"column":4}},"37":{"start":{"line":69,"column":4},"end":{"line":72,"column":7}},"38":{"start":{"line":75,"column":2},"end":{"line":79,"column":4}},"39":{"start":{"line":76,"column":4},"end":{"line":78,"column":7}},"40":{"start":{"line":81,"column":2},"end":{"line":88,"column":4}},"41":{"start":{"line":82,"column":4},"end":{"line":87,"column":7}},"42":{"start":{"line":90,"column":2},"end":{"line":95,"column":4}},"43":{"start":{"line":91,"column":4},"end":{"line":94,"column":13}},"44":{"start":{"line":98,"column":2},"end":{"line":98,"column":43}},"45":{"start":{"line":100,"column":2},"end":{"line":106,"column":5}},"46":{"start":{"line":101,"column":4},"end":{"line":103,"column":5}},"47":{"start":{"line":102,"column":6},"end":{"line":102,"column":76}},"48":{"start":{"line":105,"column":4},"end":{"line":105,"column":37}},"49":{"start":{"line":108,"column":2},"end":{"line":108,"column":16}},"50":{"start":{"line":111,"column":0},"end":{"line":115,"column":1}},"51":{"start":{"line":112,"column":2},"end":{"line":114,"column":4}},"52":{"start":{"line":113,"column":4},"end":{"line":113,"column":85}},"53":{"start":{"line":116,"column":0},"end":{"line":116,"column":40}}},"branchMap":{"1":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":32},"end":{"line":86,"column":41}},{"start":{"line":86,"column":45},"end":{"line":86,"column":47}}]},"2":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":14},"end":{"line":100,"column":27}},{"start":{"line":100,"column":31},"end":{"line":100,"column":33}}]},"3":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]}},"code":["var resolveSyncNotSupported = NotSupported('this.resolveSync()');","var execNotSupported = NotSupported('this.exec()');","","function HappyFakeLoaderContext(initialValues) {","  var loader = {};","","  // for compiler RPCs, like this.resolve()","  loader._compiler = null;","","  // for loader RPCs, like this.emitWarning()","  loader._remoteLoaderId = null;","","  loader.version = 1; // https://webpack.github.io/docs/loaders.html#version","  loader.webpack = false;","  loader.request = null;","  loader.query = null;","","  loader.context = null;","  loader.resource = null;","  loader.resourcePath = null;","  loader.resourceQuery = null;","","  loader.data = {};","  loader.loaders = [{}];","  loader.loaderIndex = 0;","","  loader.options = null; // TODO: we should read this from compiler options","  loader.result = null;","","  loader.sourceMap = false;","  loader.fs = null;","  loader.target = 'web';","","  // TODO","  loader.cacheable = function() {};","  loader.callback = null; // will be defined at runtime","  loader.async = null; // will be defined at runtime","","  loader.exec = execNotSupported;","","  loader.emitWarning = function(message) {","    loader._compiler._sendMessage('emitWarning', {","      remoteLoaderId: loader._remoteLoaderId,","      message: message","    });","  };","","  loader.emitError = function(message) {","    loader._compiler._sendMessage('emitError', {","      remoteLoaderId: loader._remoteLoaderId,","      message: message","    });","  };","","  loader.resolve = function(context, resource, done) {","    loader._compiler.resolve(context, resource, done);","  };","","  loader.resolveSync = resolveSyncNotSupported;","","  loader.addDependency = function(file) {","    loader._compiler._sendMessage('addDependency', {","      remoteLoaderId: loader._remoteLoaderId,","      file: file","    });","  };","","  loader.addContextDependency = function(file) {","    loader._compiler._sendMessage('addContextDependency', {","      remoteLoaderId: loader._remoteLoaderId,","      file: file","    });","  };","","  loader.clearDependencies = function() {","    loader._compiler._sendMessage('clearDependencies', {","      remoteLoaderId: loader._remoteLoaderId","    });","  };","","  loader.emitFile = function(name, contents, sourceMap) {","    loader._compiler._sendMessage('emitFile', {","      remoteLoaderId: loader._remoteLoaderId,","      name: name,","      contents: contents,","      sourceMap: JSON.stringify(sourceMap || {})","    });","  };","","  loader.loadModule = function(resource, done) {","    loader._compiler._sendMessage('loadModule', {","      remoteLoaderId: loader._remoteLoaderId,","      file: resource,","    }, done);","  };","","  // alias","  loader.dependency = loader.addDependency;","","  Object.keys(initialValues || {}).forEach(function(key) {","    if (!loader.hasOwnProperty(key)) {","      console.warn('Unrecognized fake loader context attribute \"%s\".', key);","    }","","    loader[key] = initialValues[key];","  });","","  return loader;","}","","function NotSupported(fnName) {","  return function() {","    throw new Error('HappyPack: ' + fnName + ' is not supported for happy loaders.');","  };","}","module.exports = HappyFakeLoaderContext;",""],"l":{"1":1,"2":1,"4":1,"5":0,"8":0,"11":0,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"27":0,"28":0,"30":0,"31":0,"32":0,"35":0,"36":0,"37":0,"39":0,"41":0,"42":0,"48":0,"49":0,"55":0,"56":0,"59":0,"61":0,"62":0,"68":0,"69":0,"75":0,"76":0,"81":0,"82":0,"90":0,"91":0,"98":0,"100":0,"101":0,"102":0,"105":0,"108":0,"111":1,"112":2,"113":0,"116":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/fnOncePedantic.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/fnOncePedantic.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"OncePedantic","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":57}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":9},"end":{"line":4,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":12,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":21}},"3":{"start":{"line":4,"column":2},"end":{"line":11,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":36}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":18}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":37}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]}},"code":["module.exports = function OncePedantic(fn, errorMessage) {","  var called = false;","","  return function() {","    if (called) {","      throw new Error(errorMessage);","    }","","    called = true;","    return fn.apply(null, arguments);","  }","};"],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"9":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/serializeError.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/serializeError.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":17,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":15}},"3":{"start":{"line":4,"column":2},"end":{"line":6,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":28}},"5":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":26}},"7":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":24}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]}},"code":["module.exports = function(error) {","  var buf = [];","","  if (error.hasOwnProperty('message')) {","    buf.push(error.message);","  }","","  if (error.hasOwnProperty('stack')) {","    buf.push(error.stack);","  }","","  if (!buf.length) {","    buf.push(JSON.stringify(error));","  }","","  return buf.join('\\n');","};"],"l":{"1":1,"2":0,"4":0,"5":0,"8":0,"9":0,"12":0,"13":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyFSCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyFSCache.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":1,"55":0,"56":1,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"HappyFSCache","line":17,"loc":{"start":{"line":17,"column":17},"end":{"line":17,"column":47}}},"2":{"name":"(anonymous_2)","line":38,"loc":{"start":{"line":38,"column":17},"end":{"line":38,"column":42}}},"3":{"name":"(anonymous_3)","line":84,"loc":{"start":{"line":84,"column":17},"end":{"line":84,"column":28}}},"4":{"name":"(anonymous_4)","line":88,"loc":{"start":{"line":88,"column":38},"end":{"line":88,"column":57}}},"5":{"name":"(anonymous_5)","line":92,"loc":{"start":{"line":92,"column":37},"end":{"line":92,"column":56}}},"6":{"name":"(anonymous_6)","line":96,"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":42}}},"7":{"name":"(anonymous_7)","line":103,"loc":{"start":{"line":103,"column":23},"end":{"line":103,"column":42}}},"8":{"name":"(anonymous_8)","line":107,"loc":{"start":{"line":107,"column":31},"end":{"line":107,"column":50}}},"9":{"name":"(anonymous_9)","line":111,"loc":{"start":{"line":111,"column":16},"end":{"line":111,"column":56}}},"10":{"name":"(anonymous_10)","line":119,"loc":{"start":{"line":119,"column":17},"end":{"line":119,"column":28}}},"11":{"name":"getSignatureAtCompilationTime","line":123,"loc":{"start":{"line":123,"column":2},"end":{"line":123,"column":51}}},"12":{"name":"toJSON","line":132,"loc":{"start":{"line":132,"column":0},"end":{"line":132,"column":24}}},"13":{"name":"getMTime","line":136,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":28}}},"14":{"name":"removeStaleEntries","line":145,"loc":{"start":{"line":145,"column":0},"end":{"line":145,"column":55}}},"15":{"name":"(anonymous_15)","line":146,"loc":{"start":{"line":146,"column":36},"end":{"line":146,"column":60}}},"16":{"name":"isStale","line":157,"loc":{"start":{"line":157,"column":2},"end":{"line":157,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":17,"column":0},"end":{"line":130,"column":1}},"5":{"start":{"line":18,"column":2},"end":{"line":18,"column":19}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":21}},"7":{"start":{"line":20,"column":2},"end":{"line":20,"column":30}},"8":{"start":{"line":21,"column":2},"end":{"line":21,"column":42}},"9":{"start":{"line":22,"column":2},"end":{"line":22,"column":63}},"10":{"start":{"line":24,"column":2},"end":{"line":25,"column":87}},"11":{"start":{"line":38,"column":2},"end":{"line":82,"column":4}},"12":{"start":{"line":39,"column":4},"end":{"line":39,"column":34}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":35}},"14":{"start":{"line":43,"column":4},"end":{"line":44,"column":61}},"15":{"start":{"line":46,"column":4},"end":{"line":52,"column":5}},"16":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"17":{"start":{"line":48,"column":8},"end":{"line":48,"column":74}},"18":{"start":{"line":51,"column":6},"end":{"line":51,"column":19}},"19":{"start":{"line":54,"column":4},"end":{"line":58,"column":5}},"20":{"start":{"line":55,"column":6},"end":{"line":55,"column":65}},"21":{"start":{"line":57,"column":6},"end":{"line":57,"column":22}},"22":{"start":{"line":60,"column":4},"end":{"line":66,"column":5}},"23":{"start":{"line":61,"column":6},"end":{"line":63,"column":7}},"24":{"start":{"line":62,"column":8},"end":{"line":62,"column":80}},"25":{"start":{"line":65,"column":6},"end":{"line":65,"column":19}},"26":{"start":{"line":68,"column":4},"end":{"line":68,"column":35}},"27":{"start":{"line":69,"column":4},"end":{"line":69,"column":35}},"28":{"start":{"line":71,"column":4},"end":{"line":71,"column":74}},"29":{"start":{"line":73,"column":4},"end":{"line":79,"column":5}},"30":{"start":{"line":74,"column":6},"end":{"line":78,"column":8}},"31":{"start":{"line":81,"column":4},"end":{"line":81,"column":16}},"32":{"start":{"line":84,"column":2},"end":{"line":86,"column":4}},"33":{"start":{"line":85,"column":4},"end":{"line":85,"column":55}},"34":{"start":{"line":88,"column":2},"end":{"line":90,"column":4}},"35":{"start":{"line":89,"column":4},"end":{"line":89,"column":73}},"36":{"start":{"line":92,"column":2},"end":{"line":94,"column":4}},"37":{"start":{"line":93,"column":4},"end":{"line":93,"column":82}},"38":{"start":{"line":96,"column":2},"end":{"line":101,"column":4}},"39":{"start":{"line":97,"column":4},"end":{"line":97,"column":47}},"40":{"start":{"line":98,"column":4},"end":{"line":98,"column":60}},"41":{"start":{"line":100,"column":4},"end":{"line":100,"column":34}},"42":{"start":{"line":103,"column":2},"end":{"line":105,"column":4}},"43":{"start":{"line":104,"column":4},"end":{"line":104,"column":66}},"44":{"start":{"line":107,"column":2},"end":{"line":109,"column":4}},"45":{"start":{"line":108,"column":4},"end":{"line":108,"column":34}},"46":{"start":{"line":111,"column":2},"end":{"line":117,"column":4}},"47":{"start":{"line":112,"column":4},"end":{"line":116,"column":6}},"48":{"start":{"line":119,"column":2},"end":{"line":121,"column":4}},"49":{"start":{"line":120,"column":4},"end":{"line":120,"column":17}},"50":{"start":{"line":123,"column":2},"end":{"line":127,"column":3}},"51":{"start":{"line":124,"column":4},"end":{"line":126,"column":5}},"52":{"start":{"line":125,"column":6},"end":{"line":125,"column":42}},"53":{"start":{"line":129,"column":2},"end":{"line":129,"column":17}},"54":{"start":{"line":132,"column":0},"end":{"line":134,"column":1}},"55":{"start":{"line":133,"column":2},"end":{"line":133,"column":32}},"56":{"start":{"line":136,"column":0},"end":{"line":143,"column":1}},"57":{"start":{"line":137,"column":2},"end":{"line":142,"column":3}},"58":{"start":{"line":138,"column":4},"end":{"line":138,"column":49}},"59":{"start":{"line":141,"column":4},"end":{"line":141,"column":14}},"60":{"start":{"line":145,"column":0},"end":{"line":167,"column":1}},"61":{"start":{"line":146,"column":2},"end":{"line":155,"column":8}},"62":{"start":{"line":147,"column":4},"end":{"line":147,"column":33}},"63":{"start":{"line":149,"column":4},"end":{"line":152,"column":5}},"64":{"start":{"line":150,"column":6},"end":{"line":150,"column":30}},"65":{"start":{"line":151,"column":6},"end":{"line":151,"column":21}},"66":{"start":{"line":154,"column":4},"end":{"line":154,"column":15}},"67":{"start":{"line":157,"column":2},"end":{"line":166,"column":3}},"68":{"start":{"line":158,"column":4},"end":{"line":165,"column":6}}},"branchMap":{"1":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":26},"end":{"line":22,"column":50}},{"start":{"line":22,"column":54},"end":{"line":22,"column":62}}]},"2":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":11},"end":{"line":43,"column":45}},{"start":{"line":43,"column":49},"end":{"line":43,"column":65}}]},"3":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":4}},{"start":{"line":46,"column":4},"end":{"line":46,"column":4}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":6}},{"start":{"line":47,"column":6},"end":{"line":47,"column":6}}]},"5":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":4}},{"start":{"line":60,"column":4},"end":{"line":60,"column":4}}]},"6":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":17}},{"start":{"line":60,"column":21},"end":{"line":60,"column":72}}]},"7":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":6},"end":{"line":61,"column":6}},{"start":{"line":61,"column":6},"end":{"line":61,"column":6}}]},"8":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"9":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":11},"end":{"line":89,"column":33}},{"start":{"line":89,"column":37},"end":{"line":89,"column":72}}]},"10":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":11},"end":{"line":93,"column":33}},{"start":{"line":93,"column":37},"end":{"line":93,"column":81}}]},"11":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":11},"end":{"line":104,"column":33}},{"start":{"line":104,"column":37},"end":{"line":104,"column":65}}]},"12":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"13":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":4},"end":{"line":149,"column":4}},{"start":{"line":149,"column":4},"end":{"line":149,"column":4}}]},"14":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":33}},{"start":{"line":162,"column":9},"end":{"line":162,"column":46}},{"start":{"line":164,"column":9},"end":{"line":164,"column":52}}]}},"code":["var fs = require('fs');","var Utils = require('./HappyUtils');","var assert = require('assert');","","/**"," * @param {Object} config"," * @param {String} config.id"," *        HappyPack Plugin ID, for logging purposes."," *"," * @param {Boolean} config.verbose"," * @param {Function?} config.generateSignature"," * @param {String} config.path"," *        Absolute path to where the JSON representation of the cache should"," *        be stored. Path must be writable."," *"," */","module.exports = function HappyFSCache(config) {","  var exports = {};","  var id = config.id;","  var cachePath = config.path;","  var cache = { context: {}, mtimes: {} };","  var generateSignature = config.generateSignature || getMTime;","","  assert(typeof cachePath === 'string',","    \"HappyFSCache requires a @path parameter that points to where it will be stored.\");",""," /**","  * @param {Object} params.context","  *        An object that should fully represent the context in which the plugin","  *        was run. This object will be used to determine whether previous cache","  *        entries are still valid or not.","  *","  *        This MUST be JSON-serializable!","  *","  * @return {Boolean}","  *         Whether the cache was loaded from disk.","  */","  exports.load = function(currentContext) {","    var oldCache, staleEntryCount;","","    cache.context = currentContext;","","    assert(typeof currentContext === 'object' && !!currentContext,","      \"HappyFSCache requires a @context parameter to work.\");","","    if (!Utils.isReadable(cachePath)) {","      if (config.verbose) {","        console.log('Happy[%s]: No cache was found, starting fresh.', id);","      }","","      return false;","    }","","    try {","      oldCache = JSON.parse(fs.readFileSync(cachePath, 'utf-8'));","    } catch(e) {","      oldCache = null;","    }","","    if (!oldCache || toJSON(oldCache.context) !== toJSON(currentContext)) {","      if (config.verbose) {","        console.log('Happy[%s]: Cache is no longer valid, starting fresh.', id);","      }","","      return false;","    }","","    cache.mtimes = oldCache.mtimes;","    cache.context = currentContext;","","    staleEntryCount = removeStaleEntries(cache.mtimes, generateSignature);","","    if (config.verbose) {","      console.log('Happy[%s]: Loaded %d entries from cache. (%d were stale)',","        id,","        Object.keys(cache.mtimes).length,","        staleEntryCount","      );","    }","","    return true;","  };","","  exports.save = function() {","    fs.writeFileSync(cachePath, JSON.stringify(cache));","  };","","  exports.getCompiledSourceCodePath = function(filePath) {","    return cache.mtimes[filePath] && cache.mtimes[filePath].compiledPath;","  };","","  exports.getCompiledSourceMapPath = function(filePath) {","    return cache.mtimes[filePath] && cache.mtimes[filePath].compiledPath + '.map';","  };","","  exports.hasChanged = function(filePath) {","    var nowMTime = generateSignature(filePath);","    var lastMTime = getSignatureAtCompilationTime(filePath);","","    return nowMTime !== lastMTime;","  };","","  exports.hasErrored = function(filePath) {","    return cache.mtimes[filePath] && cache.mtimes[filePath].error;","  };","","  exports.invalidateEntryFor = function(filePath) {","    delete cache.mtimes[filePath];","  };","","  exports.set = function(filePath, error, compiledPath) {","    cache.mtimes[filePath] = {","      mtime: generateSignature(filePath),","      compiledPath: compiledPath,","      error: error","    };","  };","","  exports.dump = function() {","    return cache;","  };","","  function getSignatureAtCompilationTime(filePath) {","    if (cache.mtimes[filePath]) {","      return cache.mtimes[filePath].mtime;","    }","  }","","  return exports;","}","","function toJSON(object) {","  return JSON.stringify(object);","}","","function getMTime(filePath) {","  try {","    return fs.statSync(filePath).mtime.getTime();","  }","  catch (e) {","    return -1;","  }","}","","function removeStaleEntries(mtimes, generateSignature) {","  return Object.keys(mtimes).reduce(function(acc, filePath) {","    var entry = mtimes[filePath];","","    if (isStale(entry, filePath)) {","      delete mtimes[filePath];","      return acc + 1;","    }","","    return acc;","  }, 0);","","  function isStale(entry, filePath) {","    return (","      // was the source removed?","      !Utils.isReadable(filePath)","      // was the compiled version removed or never created?","      || !Utils.isReadable(entry.compiledPath)","      // has source been modified since we last compiled it?","      || entry.mtime !== generateSignature(filePath)","    );","  }","}",""],"l":{"1":1,"2":1,"3":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"38":0,"39":0,"41":0,"43":0,"46":0,"47":0,"48":0,"51":0,"54":0,"55":0,"57":0,"60":0,"61":0,"62":0,"65":0,"68":0,"69":0,"71":0,"73":0,"74":0,"81":0,"84":0,"85":0,"88":0,"89":0,"92":0,"93":0,"96":0,"97":0,"98":0,"100":0,"103":0,"104":0,"107":0,"108":0,"111":0,"112":0,"119":0,"120":0,"123":1,"124":0,"125":0,"129":0,"132":1,"133":0,"136":1,"137":0,"138":0,"141":0,"145":1,"146":0,"147":0,"149":0,"150":0,"151":0,"154":0,"157":1,"158":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyUtils.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"b":{"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":50}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":40}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":20},"end":{"line":22,"column":38}}},"4":{"name":"hashString","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"4":{"start":{"line":5,"column":0},"end":{"line":7,"column":2}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":76}},"6":{"start":{"line":9,"column":0},"end":{"line":20,"column":2}},"7":{"start":{"line":10,"column":2},"end":{"line":19,"column":3}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":44}},"9":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"10":{"start":{"line":13,"column":6},"end":{"line":13,"column":17}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":16}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},"13":{"start":{"line":22,"column":0},"end":{"line":31,"column":2}},"14":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":25}},"16":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"17":{"start":{"line":28,"column":6},"end":{"line":28,"column":14}},"18":{"start":{"line":34,"column":0},"end":{"line":47,"column":1}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":15}},"20":{"start":{"line":36,"column":2},"end":{"line":36,"column":18}},"21":{"start":{"line":38,"column":2},"end":{"line":38,"column":39}},"22":{"start":{"line":38,"column":27},"end":{"line":38,"column":39}},"23":{"start":{"line":40,"column":2},"end":{"line":44,"column":3}},"24":{"start":{"line":41,"column":4},"end":{"line":41,"column":33}},"25":{"start":{"line":42,"column":4},"end":{"line":42,"column":39}},"26":{"start":{"line":43,"column":4},"end":{"line":43,"column":14}},"27":{"start":{"line":46,"column":2},"end":{"line":46,"column":22}}},"branchMap":{"1":{"line":3,"type":"binary-expr","locations":[{"start":{"line":3,"column":17},"end":{"line":3,"column":30}},{"start":{"line":3,"column":34},"end":{"line":3,"column":47}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"4":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]}},"code":["var fs = require('fs');","var mkdirp = require('mkdirp');","var accessFile = fs.accessSync || fs.existsSync;","","exports.generateCompiledPath = function(filePath) {","  return 's-' + hashString(filePath + Math.random().toString(36).substr(2));","};","","exports.isReadable = function(filePath) {","  try {","    var ret = accessFile(filePath, fs.R_OK);","    if (ret !== undefined) {","      return ret;","    }","    return true;","  }","  catch(e) {","    return false;","  }","};","","exports.mkdirSync = function(dirPath) {","  try {","    mkdirp.sync(dirPath);","  }","  catch (e) {","    if (!e.message.match('EEXIST')) {","      throw e;","    }","  }","};","","// Courtesy of http://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery","function hashString(string) {","  var hash = 0;","  var i, chr, len;","","  if (string.length === 0) return hash;","","  for (i = 0, len = string.length; i < len; i++) {","    chr   = string.charCodeAt(i);","    hash  = ((hash << 5) - hash) + chr;","    hash |= 0; // Convert to 32bit integer","  }","","  return String(hash);","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"9":1,"10":0,"11":0,"12":0,"13":0,"15":0,"18":0,"22":1,"23":0,"24":0,"27":0,"28":0,"34":1,"35":0,"36":0,"38":0,"40":0,"41":0,"42":0,"43":0,"46":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/WebpackUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/WebpackUtils.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":26},"end":{"line":4,"column":42}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":21},"end":{"line":20,"column":38}}},"3":{"name":"extractLoaders","line":97,"loc":{"start":{"line":97,"column":25},"end":{"line":97,"column":56}}},"4":{"name":"(anonymous_4)","line":99,"loc":{"start":{"line":99,"column":32},"end":{"line":99,"column":55}}},"5":{"name":"(anonymous_5)","line":121,"loc":{"start":{"line":121,"column":25},"end":{"line":121,"column":59}}},"6":{"name":"(anonymous_6)","line":131,"loc":{"start":{"line":131,"column":29},"end":{"line":131,"column":46}}},"7":{"name":"(anonymous_7)","line":134,"loc":{"start":{"line":134,"column":11},"end":{"line":134,"column":30}}},"8":{"name":"(anonymous_8)","line":135,"loc":{"start":{"line":135,"column":49},"end":{"line":135,"column":71}}},"9":{"name":"extractPathAndQueryFromString","line":155,"loc":{"start":{"line":155,"column":0},"end":{"line":155,"column":47}}},"10":{"name":"ensureHasLeadingMarker","line":172,"loc":{"start":{"line":172,"column":0},"end":{"line":172,"column":45}}},"11":{"name":"objectAssign","line":176,"loc":{"start":{"line":176,"column":0},"end":{"line":176,"column":30}}},"12":{"name":"(anonymous_12)","line":179,"loc":{"start":{"line":179,"column":24},"end":{"line":179,"column":46}}},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":32},"end":{"line":180,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":40,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":14}},"5":{"start":{"line":8,"column":2},"end":{"line":18,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":42}},"7":{"start":{"line":12,"column":7},"end":{"line":18,"column":3}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":55}},"9":{"start":{"line":16,"column":7},"end":{"line":18,"column":3}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":62}},"11":{"start":{"line":20,"column":2},"end":{"line":39,"column":5}},"12":{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},"13":{"start":{"line":23,"column":6},"end":{"line":28,"column":7}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":58}},"15":{"start":{"line":26,"column":11},"end":{"line":28,"column":7}},"16":{"start":{"line":27,"column":8},"end":{"line":27,"column":60}},"17":{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},"18":{"start":{"line":34,"column":6},"end":{"line":34,"column":34}},"19":{"start":{"line":35,"column":6},"end":{"line":35,"column":27}},"20":{"start":{"line":38,"column":4},"end":{"line":38,"column":18}},"21":{"start":{"line":97,"column":0},"end":{"line":119,"column":2}},"22":{"start":{"line":98,"column":2},"end":{"line":118,"column":3}},"23":{"start":{"line":99,"column":4},"end":{"line":101,"column":11}},"24":{"start":{"line":100,"column":6},"end":{"line":100,"column":49}},"25":{"start":{"line":103,"column":7},"end":{"line":118,"column":3}},"26":{"start":{"line":104,"column":4},"end":{"line":104,"column":48}},"27":{"start":{"line":106,"column":7},"end":{"line":118,"column":3}},"28":{"start":{"line":107,"column":4},"end":{"line":107,"column":54}},"29":{"start":{"line":109,"column":7},"end":{"line":118,"column":3}},"30":{"start":{"line":110,"column":4},"end":{"line":110,"column":78}},"31":{"start":{"line":112,"column":7},"end":{"line":118,"column":3}},"32":{"start":{"line":113,"column":4},"end":{"line":113,"column":55}},"33":{"start":{"line":116,"column":4},"end":{"line":116,"column":25}},"34":{"start":{"line":117,"column":4},"end":{"line":117,"column":75}},"35":{"start":{"line":121,"column":0},"end":{"line":151,"column":2}},"36":{"start":{"line":122,"column":2},"end":{"line":122,"column":50}},"37":{"start":{"line":123,"column":2},"end":{"line":123,"column":49}},"38":{"start":{"line":129,"column":2},"end":{"line":129,"column":40}},"39":{"start":{"line":131,"column":2},"end":{"line":150,"column":12}},"40":{"start":{"line":132,"column":4},"end":{"line":132,"column":87}},"41":{"start":{"line":134,"column":4},"end":{"line":149,"column":6}},"42":{"start":{"line":135,"column":6},"end":{"line":141,"column":9}},"43":{"start":{"line":136,"column":8},"end":{"line":138,"column":9}},"44":{"start":{"line":137,"column":10},"end":{"line":137,"column":31}},"45":{"start":{"line":140,"column":8},"end":{"line":140,"column":31}},"46":{"start":{"line":143,"column":6},"end":{"line":148,"column":7}},"47":{"start":{"line":144,"column":8},"end":{"line":144,"column":77}},"48":{"start":{"line":147,"column":8},"end":{"line":147,"column":48}},"49":{"start":{"line":153,"column":0},"end":{"line":153,"column":49}},"50":{"start":{"line":155,"column":0},"end":{"line":170,"column":1}},"51":{"start":{"line":156,"column":2},"end":{"line":156,"column":34}},"52":{"start":{"line":158,"column":2},"end":{"line":160,"column":3}},"53":{"start":{"line":159,"column":4},"end":{"line":159,"column":54}},"54":{"start":{"line":162,"column":2},"end":{"line":162,"column":32}},"55":{"start":{"line":163,"column":2},"end":{"line":163,"column":42}},"56":{"start":{"line":165,"column":2},"end":{"line":167,"column":3}},"57":{"start":{"line":166,"column":4},"end":{"line":166,"column":34}},"58":{"start":{"line":169,"column":2},"end":{"line":169,"column":59}},"59":{"start":{"line":172,"column":0},"end":{"line":174,"column":1}},"60":{"start":{"line":173,"column":2},"end":{"line":173,"column":68}},"61":{"start":{"line":176,"column":0},"end":{"line":186,"column":1}},"62":{"start":{"line":177,"column":2},"end":{"line":177,"column":44}},"63":{"start":{"line":179,"column":2},"end":{"line":185,"column":13}},"64":{"start":{"line":180,"column":4},"end":{"line":182,"column":7}},"65":{"start":{"line":181,"column":6},"end":{"line":181,"column":29}},"66":{"start":{"line":184,"column":4},"end":{"line":184,"column":15}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":31}},{"start":{"line":8,"column":35},"end":{"line":8,"column":63}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":7},"end":{"line":12,"column":7}},{"start":{"line":12,"column":7},"end":{"line":12,"column":7}}]},"4":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":7},"end":{"line":16,"column":7}},{"start":{"line":16,"column":7},"end":{"line":16,"column":7}}]},"5":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"6":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"7":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":11},"end":{"line":26,"column":11}},{"start":{"line":26,"column":11},"end":{"line":26,"column":11}}]},"8":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"9":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":2},"end":{"line":98,"column":2}},{"start":{"line":98,"column":2},"end":{"line":98,"column":2}}]},"10":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":31}},{"start":{"line":98,"column":35},"end":{"line":98,"column":48}}]},"11":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":7},"end":{"line":103,"column":7}},{"start":{"line":103,"column":7},"end":{"line":103,"column":7}}]},"12":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":7},"end":{"line":106,"column":7}},{"start":{"line":106,"column":7},"end":{"line":106,"column":7}}]},"13":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":11},"end":{"line":106,"column":43}},{"start":{"line":106,"column":47},"end":{"line":106,"column":58}}]},"14":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":7},"end":{"line":109,"column":7}},{"start":{"line":109,"column":7},"end":{"line":109,"column":7}}]},"15":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":11},"end":{"line":109,"column":43}},{"start":{"line":109,"column":47},"end":{"line":109,"column":60}}]},"16":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":7},"end":{"line":112,"column":7}},{"start":{"line":112,"column":7},"end":{"line":112,"column":7}}]},"17":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":8},"end":{"line":136,"column":8}},{"start":{"line":136,"column":8},"end":{"line":136,"column":8}}]},"18":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":6},"end":{"line":143,"column":6}},{"start":{"line":143,"column":6},"end":{"line":143,"column":6}}]},"19":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":2},"end":{"line":158,"column":2}},{"start":{"line":158,"column":2},"end":{"line":158,"column":2}}]},"20":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":2},"end":{"line":165,"column":2}},{"start":{"line":165,"column":2},"end":{"line":165,"column":2}}]},"21":{"line":173,"type":"cond-expr","locations":[{"start":{"line":173,"column":34},"end":{"line":173,"column":45}},{"start":{"line":173,"column":49},"end":{"line":173,"column":66}}]}},"code":["var async = require('async');","var assert = require('assert');","","exports.normalizeLoader = function(input) {","  var normals;","","  // happypack variant:","  if (typeof input === 'object' && input.hasOwnProperty('path')) {","    normals = [ objectAssign({}, input) ];","  }","  // webpack object variant:","  else if (typeof input === 'object') {","    normals = [].concat(exports.extractLoaders(input));","  }","  // webpack/happypack string loader(s):","  else if (typeof input === 'string') {","    normals = [].concat(extractPathAndQueryFromString(input));","  }","","  return normals.map(function(loader) {","    // normalize the query so that it is always a string prefixed by '?'","    if (loader.query) {","      if (typeof loader.query === 'object') {","        loader.query = '?' + JSON.stringify(loader.query);","      }","      else if (typeof loader.query === 'string') {","        loader.query = ensureHasLeadingMarker(loader.query);","      }","    }","","    // be compatible with webpack's syntax within our own: if they specify","    // a loader's path using a \"loader\" attribute, map it to the \"path\" one","    if (loader.loader) {","      loader.path = loader.loader;","      delete loader.loader;","    }","","    return loader;","  });","};","","/**"," * Extract the set of loaders (one or more) from a given a \"module.loaders\""," * webpack config entry."," *"," * This does NOT perform any normalization on the query, so the query may be"," * a string (prefixed by '?' or not) or it may be an object."," *"," * Example inputs/outputs:"," *"," *     // a loader chain"," *     {"," *       loaders: [ 'style', 'css' ]"," *     }"," *     // => [ \"style\", \"css\" ]"," *"," *     // another loader chain"," *     {"," *       loaders: [ 'style!css' ]"," *     }"," *     // => [ \"style!css\" ]"," *"," *     // a single loader, no query:"," *     {"," *       loader: 'babel'"," *     }"," *     // => [ \"babel\" ]"," *"," *     // a single loader with inline query:"," *     {"," *       loader: 'babel?presets[]=react'"," *     }"," *     // => [ \"babel?presets[]=react\" ]"," *"," *     // a single loader with a query object:"," *     {"," *       loader: 'babel',"," *       query: { presets: [ 'react' ] }"," *     }"," *     // => [ \"babel?presets[]=react\" ]"," *"," *     // webpack 2: multiple loaders with object / string combinations:"," *     {"," *       loaders: ["," *         'react-hot',"," *         { loader: 'babel', query: { presets: [ 'react' ] } },"," *       ]"," *     }"," *"," * @param  {Object|String} entry"," * @param  {?Array.<String|Object>} entry.loaders"," * @param  {!String} entry.loader"," * @param  {?Object|String} entry.query"," *"," * @return {Object|Array.<Object>}"," */","exports.extractLoaders = function extractLoaders(entry) {","  if (typeof entry === 'object' && entry.loaders) {","    return entry.loaders.reduce(function(list, loader) {","      return list.concat(extractLoaders(loader));","    }, []);","  }","  else if (typeof entry === 'string') {","    return extractPathAndQueryFromString(entry);","  }","  else if (typeof entry.loader === 'string' && entry.query) {","    return { path: entry.loader, query: entry.query };","  }","  else if (typeof entry.loader === 'string' && entry.options) {","    return { path: entry.loader, query: '?' + JSON.stringify(entry.options) };","  }","  else if (typeof entry.loader === 'string') {","    return extractPathAndQueryFromString(entry.loader);","  }","  else {","    console.error(entry);","    assert(false, \"HappyPack: Unrecognized loader configuration variant!\");","  }","};","","exports.resolveLoaders = function(compiler, loaders, done) {","  var resolve = compiler.resolvers.loader.resolve;","  var resolveContext = compiler.resolvers.loader;","","  // webpack2 has changed the signature for the resolve method where it accepts","  // a fourth argument (context), so we need to sniff and support both versions","  //","  // fixes #23","  var isWebpack2 = resolve.length === 4;","","  async.parallel(loaders.map(function(loader) {","    assert(!!loader, \"Invalid loader string to resolve!!! \" + JSON.stringify(loaders));","","    return function(callback) {","      var callArgs = [ compiler.context, loader, function(err, result) {","        if (err) {","          return callback(err);","        }","","        callback(null, result);","      }];","","      if (isWebpack2) {","        resolve.apply(resolveContext, [ compiler.context ].concat(callArgs));","      }","      else {","        resolve.apply(resolveContext, callArgs);","      }","    };","  }), done);","};","","exports.applyLoaders = require('./applyLoaders');","","function extractPathAndQueryFromString(string) {","  var loaders = string.split('!');","","  if (loaders.length > 1) {","    return loaders.map(extractPathAndQueryFromString);","  }","","  var loaderString = loaders[0];","  var fragments = loaderString.split('?');","","  if (fragments.length === 1) {","    return { path: loaderString };","  }","","  return { path: fragments[0], query: '?' + fragments[1] };","}","","function ensureHasLeadingMarker(queryString) {","  return queryString[0] === '?' ? queryString : ('?' + queryString);","}","","function objectAssign(target) {","  var sources = [].slice.call(arguments, 1);","","  return sources.reduce(function(map, source) {","    Object.keys(source).forEach(function(key) {","      map[key] = source[key];","    });","","    return map;","  }, target);","}",""],"l":{"1":1,"2":1,"4":1,"5":0,"8":0,"9":0,"12":0,"13":0,"16":0,"17":0,"20":0,"22":0,"23":0,"24":0,"26":0,"27":0,"33":0,"34":0,"35":0,"38":0,"97":1,"98":0,"99":0,"100":0,"103":0,"104":0,"106":0,"107":0,"109":0,"110":0,"112":0,"113":0,"116":0,"117":0,"121":1,"122":0,"123":0,"129":0,"131":0,"132":0,"134":0,"135":0,"136":0,"137":0,"140":0,"143":0,"144":0,"147":0,"153":1,"155":1,"156":0,"158":0,"159":0,"162":0,"163":0,"165":0,"166":0,"169":0,"172":1,"173":0,"176":1,"177":0,"179":0,"180":0,"181":0,"184":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/OptionParser.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/OptionParser.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"parseAndValidateOptions","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":79}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":26}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":27}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":36},"end":{"line":19,"column":55}}},"5":{"name":"getDefaults","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":25}}},"6":{"name":"(anonymous_6)","line":51,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":57}}},"7":{"name":"format","line":60,"loc":{"start":{"line":60,"column":2},"end":{"line":60,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":63,"column":2}},"3":{"start":{"line":5,"column":2},"end":{"line":17,"column":3}},"4":{"start":{"line":7,"column":6},"end":{"line":9,"column":7}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":40}},"6":{"start":{"line":10,"column":6},"end":{"line":10,"column":36}},"7":{"start":{"line":13,"column":6},"end":{"line":15,"column":8}},"8":{"start":{"line":19,"column":2},"end":{"line":48,"column":20}},"9":{"start":{"line":20,"column":4},"end":{"line":20,"column":27}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":28}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"12":{"start":{"line":24,"column":4},"end":{"line":26,"column":6}},"13":{"start":{"line":28,"column":4},"end":{"line":32,"column":5}},"14":{"start":{"line":29,"column":6},"end":{"line":29,"column":45}},"15":{"start":{"line":31,"column":6},"end":{"line":31,"column":56}},"16":{"start":{"line":34,"column":4},"end":{"line":38,"column":5}},"17":{"start":{"line":35,"column":6},"end":{"line":37,"column":8}},"18":{"start":{"line":40,"column":4},"end":{"line":45,"column":5}},"19":{"start":{"line":41,"column":6},"end":{"line":41,"column":30}},"20":{"start":{"line":44,"column":6},"end":{"line":44,"column":23}},"21":{"start":{"line":47,"column":4},"end":{"line":47,"column":15}},"22":{"start":{"line":50,"column":2},"end":{"line":58,"column":3}},"23":{"start":{"line":51,"column":4},"end":{"line":57,"column":11}},"24":{"start":{"line":52,"column":6},"end":{"line":54,"column":7}},"25":{"start":{"line":53,"column":8},"end":{"line":53,"column":39}},"26":{"start":{"line":56,"column":6},"end":{"line":56,"column":17}},"27":{"start":{"line":60,"column":2},"end":{"line":62,"column":3}},"28":{"start":{"line":61,"column":4},"end":{"line":61,"column":40}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":6},"end":{"line":7,"column":6}},{"start":{"line":7,"column":6},"end":{"line":7,"column":6}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]},"3":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":4}},{"start":{"line":34,"column":4},"end":{"line":34,"column":4}}]},"4":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":4}},{"start":{"line":40,"column":4},"end":{"line":40,"column":4}}]},"5":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":20}},{"start":{"line":40,"column":25},"end":{"line":40,"column":44}},{"start":{"line":40,"column":48},"end":{"line":40,"column":62}}]},"6":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]}},"code":["var assert = require('assert');","","module.exports = function parseAndValidateOptions(params, schema, displayName) {","  // ensure required parameters are passed in","  Object.keys(schema)","    .filter(function(key) {","      if (schema[key].isRequired instanceof Function) {","        return schema[key].isRequired();","      }","      return schema[key].isRequired;","    })","    .forEach(function(key) {","      assert(params.hasOwnProperty(key),","        format(\"Missing required parameter '\" + key + \"'\")","      );","    })","  ;","","  return Object.keys(params).reduce(function(hsh, key) {","    var spec = schema[key];","    var value = params[key];","    var validationError;","","    assert(schema.hasOwnProperty(key),","      format(\"Unrecognized option '\" + key + \"'\")","    );","","    if (spec.validate) {","      validationError = spec.validate(value);","","      assert(!validationError, format(validationError));","    }","","    if (spec.type) {","      assert(typeof value === spec.type,","        format(\"Option '\" + key + \"' must be of type '\" + spec.type + \"' not '\" + typeof value + \"'.\")","      );","    }","","    if (spec.default && (value === undefined || value === null)) {","      hsh[key] = spec.default;","    }","    else {","      hsh[key] = value;","    }","","    return hsh;","  }, getDefaults());","","  function getDefaults() {","    return Object.keys(schema).reduce(function(hsh, key) {","      if (schema[key].default) {","        hsh[key] = schema[key].default;","      }","","      return hsh;","    }, {});","  }","","  function format(message) {","    return displayName + \": \" + message;","  }","};"],"l":{"1":1,"3":1,"5":0,"7":0,"8":0,"10":0,"13":0,"19":0,"20":0,"21":0,"22":0,"24":0,"28":0,"29":0,"31":0,"34":0,"35":0,"40":0,"41":0,"44":0,"47":0,"50":1,"51":0,"52":0,"53":0,"56":0,"60":1,"61":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/JSONSerializer.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/JSONSerializer.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":27,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":34}}},"2":{"name":"(anonymous_2)","line":34,"loc":{"start":{"line":34,"column":23},"end":{"line":34,"column":45}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":41},"end":{"line":51,"column":63}}},"4":{"name":"(anonymous_4)","line":62,"loc":{"start":{"line":62,"column":42},"end":{"line":62,"column":77}}},"5":{"name":"(anonymous_5)","line":68,"loc":{"start":{"line":68,"column":8},"end":{"line":68,"column":19}}},"6":{"name":"(anonymous_6)","line":71,"loc":{"start":{"line":71,"column":22},"end":{"line":71,"column":39}}},"7":{"name":"(anonymous_7)","line":72,"loc":{"start":{"line":72,"column":28},"end":{"line":72,"column":49}}},"8":{"name":"serializeRegExp","line":81,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":32}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"2":{"start":{"line":11,"column":0},"end":{"line":11,"column":47}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":68}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":48}},"5":{"start":{"line":19,"column":0},"end":{"line":25,"column":2}},"6":{"start":{"line":27,"column":0},"end":{"line":69,"column":1}},"7":{"start":{"line":28,"column":2},"end":{"line":28,"column":21}},"8":{"start":{"line":29,"column":2},"end":{"line":29,"column":10}},"9":{"start":{"line":34,"column":2},"end":{"line":40,"column":5}},"10":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"11":{"start":{"line":36,"column":6},"end":{"line":36,"column":61}},"12":{"start":{"line":39,"column":4},"end":{"line":39,"column":17}},"13":{"start":{"line":44,"column":2},"end":{"line":46,"column":3}},"14":{"start":{"line":45,"column":4},"end":{"line":45,"column":23}},"15":{"start":{"line":51,"column":2},"end":{"line":53,"column":5}},"16":{"start":{"line":52,"column":4},"end":{"line":52,"column":37}},"17":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"18":{"start":{"line":56,"column":4},"end":{"line":56,"column":15}},"19":{"start":{"line":62,"column":2},"end":{"line":68,"column":23}},"20":{"start":{"line":63,"column":4},"end":{"line":65,"column":5}},"21":{"start":{"line":64,"column":6},"end":{"line":64,"column":66}},"22":{"start":{"line":67,"column":4},"end":{"line":67,"column":17}},"23":{"start":{"line":71,"column":0},"end":{"line":79,"column":2}},"24":{"start":{"line":72,"column":2},"end":{"line":78,"column":5}},"25":{"start":{"line":73,"column":4},"end":{"line":75,"column":5}},"26":{"start":{"line":74,"column":6},"end":{"line":74,"column":44}},"27":{"start":{"line":77,"column":4},"end":{"line":77,"column":17}},"28":{"start":{"line":81,"column":0},"end":{"line":91,"column":1}},"29":{"start":{"line":82,"column":2},"end":{"line":82,"column":17}},"30":{"start":{"line":84,"column":2},"end":{"line":84,"column":33}},"31":{"start":{"line":84,"column":20},"end":{"line":84,"column":33}},"32":{"start":{"line":85,"column":2},"end":{"line":85,"column":37}},"33":{"start":{"line":85,"column":24},"end":{"line":85,"column":37}},"34":{"start":{"line":86,"column":2},"end":{"line":86,"column":36}},"35":{"start":{"line":86,"column":23},"end":{"line":86,"column":36}},"36":{"start":{"line":87,"column":2},"end":{"line":87,"column":33}},"37":{"start":{"line":87,"column":20},"end":{"line":87,"column":33}},"38":{"start":{"line":88,"column":2},"end":{"line":88,"column":34}},"39":{"start":{"line":88,"column":21},"end":{"line":88,"column":34}},"40":{"start":{"line":90,"column":2},"end":{"line":90,"column":44}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"2":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":33}},{"start":{"line":35,"column":37},"end":{"line":35,"column":52}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":2},"end":{"line":44,"column":2}},{"start":{"line":44,"column":2},"end":{"line":44,"column":2}}]},"4":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":55,"column":2}},{"start":{"line":55,"column":2},"end":{"line":55,"column":2}}]},"5":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":4}},{"start":{"line":63,"column":4},"end":{"line":63,"column":4}}]},"6":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"7":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":28}},{"start":{"line":73,"column":32},"end":{"line":73,"column":50}},{"start":{"line":73,"column":54},"end":{"line":73,"column":78}}]},"8":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":2},"end":{"line":84,"column":2}},{"start":{"line":84,"column":2},"end":{"line":84,"column":2}}]},"9":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":2},"end":{"line":85,"column":2}},{"start":{"line":85,"column":2},"end":{"line":85,"column":2}}]},"10":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"11":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":2},"end":{"line":87,"column":2}},{"start":{"line":87,"column":2},"end":{"line":87,"column":2}}]},"12":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]}},"code":["/*","Copyright (c) 2014, Yahoo! Inc. All rights reserved.","Copyrights licensed under the New BSD License.","See the accompanying LICENSE file for terms.","*/","","// Adapted from https://github.com/yahoo/serialize-javascript so that it is","// deserializable as well and doesn't care about functions.","","var isRegExp = require('util').isRegExp;","var stringify = require('json-stringify-safe');","","var PLACE_HOLDER_REGEXP = new RegExp('\"@__(REGEXP){(\\\\d+)}@\"', 'g');","","var UNSAFE_CHARS_REGEXP = /[<>\\/\\u2028\\u2029]/g;","","// Mapping of unsafe HTML and invalid JavaScript line terminator chars to their","// Unicode char counterparts which are safe to use in JavaScript strings.","var UNICODE_CHARS = {","  '<'     : '\\\\u003C',","  '>'     : '\\\\u003E',","  '/'     : '\\\\u002F',","  '\\u2028': '\\\\u2028',","  '\\u2029': '\\\\u2029'","};","","exports.serialize = function(obj) {","  var regexps   = [];","  var str;","","  // Creates a JSON string representation of the object and uses placeholders","  // for functions and regexps (identified by index) which are later","  // replaced.","  str = stringify(obj, function (key, value) {","    if (typeof value === 'object' && isRegExp(value)) {","      return '@__REGEXP{' + (regexps.push(value) - 1) + '}@';","    }","","    return value;","  });","","  // Protects against `JSON.stringify()` returning `undefined`, by serializing","  // to the literal string: \"undefined\".","  if (typeof str !== 'string') {","    return String(str);","  }","","  // Replace unsafe HTML and invalid JavaScript line terminator chars with","  // their safe Unicode char counterpart. This _must_ happen before the","  // regexps and functions are serialized and added back to the string.","  str = str.replace(UNSAFE_CHARS_REGEXP, function (unsafeChar) {","    return UNICODE_CHARS[unsafeChar];","  });","","  if (regexps.length === 0) {","    return str;","  }","","  // Replaces all occurrences of function and regexp placeholders in the JSON","  // string with their string representations. If the original value can not","  // be found, then `undefined` is used.","  return str.replace(PLACE_HOLDER_REGEXP, function (match, type, valueIndex) {","    if (type === 'REGEXP') {","      return JSON.stringify(serializeRegExp(regexps[valueIndex]));","    }","","    return match;","  }, 0, function() {});","}","","exports.deserialize = function(string) {","  return JSON.parse(string, function(key, value) {","    if (Array.isArray(value) && value.length === 3 && value[0] === '@__REGEXP') {","      return new RegExp(value[1], value[2]);","    }","","    return value;","  });","};","","function serializeRegExp(regex) {","  var flags = '';","","  if (regex.global) flags += 'g';","  if (regex.ignoreCase) flags += 'i';","  if (regex.multiline) flags += 'm';","  if (regex.sticky) flags += 'y';","  if (regex.unicode) flags += 'u';","","  return ['@__REGEXP', regex.source, flags];","}"],"l":{"10":1,"11":1,"13":1,"15":1,"19":1,"27":1,"28":0,"29":0,"34":0,"35":0,"36":0,"39":0,"44":0,"45":0,"51":0,"52":0,"55":0,"56":0,"62":0,"63":0,"64":0,"67":0,"71":1,"72":0,"73":0,"74":0,"77":0,"81":1,"82":0,"84":0,"85":0,"86":0,"87":0,"88":0,"90":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/loader.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/loader.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}}},"branchMap":{},"code":["module.exports = require('./lib/HappyLoader');"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyLoader.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyLoader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":1,"27":0,"28":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"HappyLoader","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}}},"2":{"name":"isHappy","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":21}}},"3":{"name":"(anonymous_3)","line":64,"loc":{"start":{"line":64,"column":9},"end":{"line":64,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":0},"end":{"line":59,"column":1}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":63}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":30}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":17}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":82}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":19}},"11":{"start":{"line":15,"column":2},"end":{"line":23,"column":3}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":38}},"13":{"start":{"line":18,"column":7},"end":{"line":23,"column":3}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":40}},"15":{"start":{"line":21,"column":7},"end":{"line":23,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":48}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":45}},"18":{"start":{"line":26,"column":2},"end":{"line":26,"column":55}},"19":{"start":{"line":27,"column":2},"end":{"line":27,"column":43}},"20":{"start":{"line":28,"column":2},"end":{"line":28,"column":87}},"21":{"start":{"line":30,"column":2},"end":{"line":33,"column":4}},"22":{"start":{"line":35,"column":2},"end":{"line":35,"column":56}},"23":{"start":{"line":37,"column":2},"end":{"line":40,"column":4}},"24":{"start":{"line":42,"column":2},"end":{"line":58,"column":15}},"25":{"start":{"line":61,"column":0},"end":{"line":61,"column":29}},"26":{"start":{"line":63,"column":0},"end":{"line":67,"column":1}},"27":{"start":{"line":64,"column":2},"end":{"line":66,"column":4}},"28":{"start":{"line":65,"column":4},"end":{"line":65,"column":59}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":7},"end":{"line":18,"column":7}},{"start":{"line":18,"column":7},"end":{"line":18,"column":7}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":7},"end":{"line":21,"column":7}},{"start":{"line":21,"column":7},"end":{"line":21,"column":7}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":11},"end":{"line":21,"column":32}},{"start":{"line":21,"column":36},"end":{"line":21,"column":50}},{"start":{"line":21,"column":54},"end":{"line":21,"column":76}},{"start":{"line":21,"column":80},"end":{"line":21,"column":110}}]},"5":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":15},"end":{"line":26,"column":31}},{"start":{"line":26,"column":35},"end":{"line":26,"column":54}}]},"6":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":13},"end":{"line":27,"column":21}},{"start":{"line":27,"column":25},"end":{"line":27,"column":42}}]},"7":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":9},"end":{"line":30,"column":19}},{"start":{"line":30,"column":23},"end":{"line":30,"column":48}}]},"8":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":11},"end":{"line":65,"column":38}},{"start":{"line":65,"column":42},"end":{"line":65,"column":58}}]}},"code":["var assert = require('assert');","var loaderUtils = require('loader-utils');","var DEFAULT_COMPILER_ID = 'default';","var DEFAULT_LOADER_ID = '1';","","function HappyLoader(sourceCode, sourceMap) {","  var query, compilerId, loaderId, remoteLoaderId, happyPlugin;","  var callback = this.async();","  var pluginList;","","  assert(callback, \"HappyPack only works when asynchronous loaders are allowed!\");","","  this.cacheable();","","  if (Array.isArray(this.options.plugins)) {","    pluginList = this.options.plugins;","  }","  else if (typeof this.options.plugins === 'function') {","    pluginList = this.options.plugins();","  }","  else if (!this.options.plugins && this._compiler && this._compiler.options && this._compiler.options.plugins) {","    pluginList = this._compiler.options.plugins;","  }","","  query = loaderUtils.parseQuery(this.query);","  compilerId = query.compilerId || DEFAULT_COMPILER_ID;","  loaderId = query.id || DEFAULT_LOADER_ID;","  remoteLoaderId = 'Loader::' + compilerId + loaderId.toString() + ':' + this.resource;","","  assert(pluginList && Array.isArray(pluginList),","    \"HappyPack: unable to locate the plugin list, this most likely indicates \" +","    \"an internal error!\"","  );","","  happyPlugin = pluginList.filter(isHappy(loaderId))[0];","","  assert(!!happyPlugin,","    \"HappyPack: plugin for the loader '\" + loaderId + \"' could not be found! \" +","    \"Did you forget to add it to the plugin list?\"","  );","","  happyPlugin.compile(this, {","    remoteLoaderId: remoteLoaderId,","    compilerId: compilerId,","    sourceCode: sourceCode,","    sourceMap: sourceMap,","","    useSourceMap: this._module.useSourceMap,","","    // TODO: maybe too much data being pushed down the drain here? we can infer","    // all of this from `this.request`","    context: this.context,","    request: happyPlugin.generateRequest(this.resource),","    resource: this.resource,","    resourcePath: this.resourcePath,","    resourceQuery: this.resourceQuery,","    target: this.target,","  }, callback);","}","","module.exports = HappyLoader;","","function isHappy(id) {","  return function(plugin) {","    return plugin.name === 'HappyPack' && plugin.id === id;","  };","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"11":0,"13":0,"15":0,"16":0,"18":0,"19":0,"21":0,"22":0,"25":0,"26":0,"27":0,"28":0,"30":0,"35":0,"37":0,"42":0,"61":1,"63":1,"64":0,"65":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyMessage.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyMessage.js","s":{},"b":{},"f":{},"fnMap":{},"statementMap":{},"branchMap":{},"code":["// READY","//","// Emitted when a channel is open and ready to accept further messages.","//","//     shape({});","","// CONFIGURE","//","// Emitted by each HappyThread to its channel with the current compiler's","// options so that the workers may use those options in their FakeCompiler /","// FakeLoaderContext.","//","//     shape({","//       data: shape({","//         compilerOptions: string","//       })","//     });","","// CONFIGURE_DONE","//","// Emitted when a channel has successfully deserialized and configured its","// workers with the compiler options.","//","//     shape({});","","// COMPILE","//","//     shape({","//       id: string.isRequired,","//       sourcePath: string,","//       compiledPath: string,","//       loaderContext: object,","//     });","","// COMPILE_DONE","//","//     shape({","//       id: string.isRequired,","//       sourcePath: string,","//       compiledPath: string,","//       success: bool,","//     });","","// COMPILER_REQUEST","//","//     shape({","//       id: string.isRequired,","//       data: shape({","//         type: oneOf([ 'resolve' ]).isRequired,","//","//         payload: oneOfType([","//           // resolve","//           shape({","//             context: string,","//             resource: string,","//           }),","//         ]).isRequired,","//       }),","//     });","","// COMPILER_RESPONSE","//","//     shape({","//       id: string.isRequired,","//       data: shape({","//         payload: shape({","//           error: string,","//           result: object,","//         })","//       })","//     });",""],"l":{}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyTestUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyTestUtils.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":10},"end":{"line":13,"column":21}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":38}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":41}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":37}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":32},"end":{"line":31,"column":62}}},"6":{"name":"guid","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":16}}},"7":{"name":"s4","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":16}}},"8":{"name":"interpolateGUID","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":33}}},"9":{"name":"(anonymous_9)","line":63,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":37}}},"10":{"name":"(anonymous_10)","line":65,"loc":{"start":{"line":65,"column":27},"end":{"line":65,"column":38}}},"11":{"name":"IntegrationSuite2","line":78,"loc":{"start":{"line":78,"column":0},"end":{"line":78,"column":53}}},"12":{"name":"(anonymous_12)","line":92,"loc":{"start":{"line":92,"column":24},"end":{"line":92,"column":35}}},"13":{"name":"(anonymous_13)","line":97,"loc":{"start":{"line":97,"column":23},"end":{"line":97,"column":34}}},"14":{"name":"(anonymous_14)","line":124,"loc":{"start":{"line":124,"column":25},"end":{"line":124,"column":56}}},"15":{"name":"(anonymous_15)","line":134,"loc":{"start":{"line":134,"column":30},"end":{"line":134,"column":49}}},"16":{"name":"(anonymous_16)","line":142,"loc":{"start":{"line":142,"column":22},"end":{"line":142,"column":33}}},"17":{"name":"(anonymous_17)","line":146,"loc":{"start":{"line":146,"column":30},"end":{"line":146,"column":41}}},"18":{"name":"(anonymous_18)","line":154,"loc":{"start":{"line":154,"column":27},"end":{"line":154,"column":49}}},"19":{"name":"(anonymous_19)","line":158,"loc":{"start":{"line":158,"column":37},"end":{"line":158,"column":61}}},"20":{"name":"(anonymous_20)","line":172,"loc":{"start":{"line":172,"column":32},"end":{"line":172,"column":45}}},"21":{"name":"(anonymous_21)","line":176,"loc":{"start":{"line":176,"column":68},"end":{"line":176,"column":89}}},"22":{"name":"(anonymous_22)","line":189,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":22}}},"23":{"name":"(anonymous_23)","line":194,"loc":{"start":{"line":194,"column":18},"end":{"line":194,"column":29}}},"24":{"name":"(anonymous_24)","line":198,"loc":{"start":{"line":198,"column":11},"end":{"line":198,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":57}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":18}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":12}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":49}},"11":{"start":{"line":13,"column":0},"end":{"line":19,"column":3}},"12":{"start":{"line":14,"column":2},"end":{"line":16,"column":5}},"13":{"start":{"line":15,"column":4},"end":{"line":15,"column":15}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":16}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":70}},"16":{"start":{"line":22,"column":0},"end":{"line":22,"column":29}},"17":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"18":{"start":{"line":24,"column":2},"end":{"line":24,"column":68}},"19":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"20":{"start":{"line":28,"column":2},"end":{"line":28,"column":65}},"21":{"start":{"line":31,"column":0},"end":{"line":48,"column":2}},"22":{"start":{"line":32,"column":2},"end":{"line":35,"column":3}},"23":{"start":{"line":33,"column":4},"end":{"line":33,"column":14}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":16}},"25":{"start":{"line":37,"column":2},"end":{"line":37,"column":32}},"26":{"start":{"line":39,"column":2},"end":{"line":42,"column":3}},"27":{"start":{"line":40,"column":4},"end":{"line":40,"column":23}},"28":{"start":{"line":41,"column":4},"end":{"line":41,"column":16}},"29":{"start":{"line":44,"column":2},"end":{"line":47,"column":3}},"30":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":16}},"32":{"start":{"line":51,"column":0},"end":{"line":59,"column":1}},"33":{"start":{"line":52,"column":2},"end":{"line":56,"column":3}},"34":{"start":{"line":53,"column":4},"end":{"line":55,"column":20}},"35":{"start":{"line":57,"column":2},"end":{"line":58,"column":36}},"36":{"start":{"line":61,"column":0},"end":{"line":69,"column":1}},"37":{"start":{"line":62,"column":2},"end":{"line":68,"column":3}},"38":{"start":{"line":64,"column":6},"end":{"line":64,"column":20}},"39":{"start":{"line":66,"column":6},"end":{"line":66,"column":19}},"40":{"start":{"line":78,"column":0},"end":{"line":202,"column":1}},"41":{"start":{"line":79,"column":2},"end":{"line":79,"column":14}},"42":{"start":{"line":80,"column":2},"end":{"line":80,"column":21}},"43":{"start":{"line":81,"column":2},"end":{"line":81,"column":90}},"44":{"start":{"line":83,"column":2},"end":{"line":83,"column":36}},"45":{"start":{"line":85,"column":2},"end":{"line":88,"column":3}},"46":{"start":{"line":90,"column":2},"end":{"line":90,"column":30}},"47":{"start":{"line":92,"column":2},"end":{"line":95,"column":5}},"48":{"start":{"line":93,"column":4},"end":{"line":93,"column":29}},"49":{"start":{"line":94,"column":4},"end":{"line":94,"column":32}},"50":{"start":{"line":97,"column":2},"end":{"line":108,"column":5}},"51":{"start":{"line":98,"column":4},"end":{"line":101,"column":5}},"52":{"start":{"line":99,"column":6},"end":{"line":99,"column":24}},"53":{"start":{"line":100,"column":6},"end":{"line":100,"column":21}},"54":{"start":{"line":103,"column":4},"end":{"line":103,"column":29}},"55":{"start":{"line":105,"column":4},"end":{"line":107,"column":5}},"56":{"start":{"line":106,"column":6},"end":{"line":106,"column":31}},"57":{"start":{"line":124,"column":2},"end":{"line":132,"column":4}},"58":{"start":{"line":125,"column":4},"end":{"line":125,"column":67}},"59":{"start":{"line":126,"column":4},"end":{"line":126,"column":87}},"60":{"start":{"line":128,"column":4},"end":{"line":128,"column":45}},"61":{"start":{"line":129,"column":4},"end":{"line":129,"column":50}},"62":{"start":{"line":131,"column":4},"end":{"line":131,"column":50}},"63":{"start":{"line":134,"column":2},"end":{"line":140,"column":4}},"64":{"start":{"line":135,"column":4},"end":{"line":135,"column":50}},"65":{"start":{"line":137,"column":4},"end":{"line":137,"column":31}},"66":{"start":{"line":139,"column":4},"end":{"line":139,"column":30}},"67":{"start":{"line":142,"column":2},"end":{"line":144,"column":4}},"68":{"start":{"line":143,"column":4},"end":{"line":143,"column":81}},"69":{"start":{"line":146,"column":2},"end":{"line":152,"column":4}},"70":{"start":{"line":147,"column":4},"end":{"line":149,"column":5}},"71":{"start":{"line":148,"column":6},"end":{"line":148,"column":85}},"72":{"start":{"line":151,"column":4},"end":{"line":151,"column":19}},"73":{"start":{"line":154,"column":2},"end":{"line":156,"column":4}},"74":{"start":{"line":155,"column":4},"end":{"line":155,"column":90}},"75":{"start":{"line":158,"column":2},"end":{"line":165,"column":4}},"76":{"start":{"line":159,"column":4},"end":{"line":159,"column":61}},"77":{"start":{"line":160,"column":4},"end":{"line":160,"column":64}},"78":{"start":{"line":162,"column":4},"end":{"line":162,"column":48}},"79":{"start":{"line":164,"column":4},"end":{"line":164,"column":63}},"80":{"start":{"line":172,"column":2},"end":{"line":199,"column":4}},"81":{"start":{"line":173,"column":4},"end":{"line":173,"column":78}},"82":{"start":{"line":174,"column":4},"end":{"line":174,"column":20}},"83":{"start":{"line":176,"column":4},"end":{"line":184,"column":7}},"84":{"start":{"line":177,"column":6},"end":{"line":177,"column":27}},"85":{"start":{"line":179,"column":6},"end":{"line":181,"column":7}},"86":{"start":{"line":180,"column":8},"end":{"line":180,"column":24}},"87":{"start":{"line":183,"column":6},"end":{"line":183,"column":57}},"88":{"start":{"line":186,"column":4},"end":{"line":192,"column":7}},"89":{"start":{"line":190,"column":8},"end":{"line":190,"column":27}},"90":{"start":{"line":194,"column":4},"end":{"line":196,"column":7}},"91":{"start":{"line":195,"column":6},"end":{"line":195,"column":25}},"92":{"start":{"line":198,"column":4},"end":{"line":198,"column":46}},"93":{"start":{"line":198,"column":24},"end":{"line":198,"column":43}},"94":{"start":{"line":201,"column":2},"end":{"line":201,"column":19}},"95":{"start":{"line":204,"column":0},"end":{"line":204,"column":46}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"2":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":2},"end":{"line":44,"column":2}},{"start":{"line":44,"column":2},"end":{"line":44,"column":2}}]},"4":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":17},"end":{"line":83,"column":29}},{"start":{"line":83,"column":33},"end":{"line":83,"column":35}}]},"5":{"line":85,"type":"cond-expr","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":48}},{"start":{"line":87,"column":4},"end":{"line":87,"column":32}}]},"6":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":24}},{"start":{"line":87,"column":28},"end":{"line":87,"column":32}}]},"7":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":4}},{"start":{"line":98,"column":4},"end":{"line":98,"column":4}}]},"8":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"9":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":40},"end":{"line":125,"column":48}},{"start":{"line":125,"column":52},"end":{"line":125,"column":65}}]},"10":{"line":126,"type":"cond-expr","locations":[{"start":{"line":126,"column":52},"end":{"line":126,"column":73}},{"start":{"line":126,"column":76},"end":{"line":126,"column":86}}]},"11":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":4},"end":{"line":147,"column":4}},{"start":{"line":147,"column":4},"end":{"line":147,"column":4}}]},"12":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":6},"end":{"line":179,"column":6}},{"start":{"line":179,"column":6},"end":{"line":179,"column":6}}]}},"code":["var path = require('path');","var fs = require('fs-extra');","var sinon = require('sinon');","var chai = require('chai');","var multiline = require('multiline-slash');","var HappyRPCHandler = require('./HappyRPCHandler');","var CACHE_DIR = path.resolve(__dirname, '../.happypack');","var cleanups = [];","var gid = 0;","","sinon.assert.expose(chai.assert, { prefix: \"\" });","","afterEach(function() {","  cleanups.forEach(function(callback) {","    callback();","  });","","  cleanups = [];","});","","exports.HAPPY_LOADER_PATH = path.resolve(__dirname, 'HappyLoader.js');","exports.assert = chai.assert;","exports.fixturePath = function(fileName) {","  return path.resolve(__dirname, '__tests__', 'fixtures', fileName);","};","","exports.fixture = function(fileName) {","  return fs.readFileSync(exports.fixturePath(fileName), 'utf-8');","};","","exports.assertNoWebpackErrors = function(err, rawStats, done) {","  if (err) {","    done(err);","    return true;","  }","","  var stats = rawStats.toJson();","","  if (stats.errors.length) {","    done(stats.errors);","    return true;","  }","","  if (stats.warnings.length) {","    done(stats.warnings);","    return true;","  }","};","","// courtesy of http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript","function guid() {","  function s4() {","    return Math.floor((1 + Math.random()) * 0x10000)","      .toString(16)","      .substring(1);","  }","  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +","    s4() + '-' + s4() + s4() + s4();","}","","function interpolateGUID(string) {","  return string","    .replace(/\\[guid\\]/g, function() {","      return guid();","    }).replace(/\\[gid\\]/g, function() {","      return ++gid;","    })","  ;","}","","/**"," * @module TestUtils.IntegrationSuite"," *"," * @param {mocha} mochaSuite"," * @param {Object} suiteOptions"," * @param {Number} [suiteOptions.timeout=2000]"," */","function IntegrationSuite2(mochaSuite, suiteOptions) {","  var sandbox;","  var testSuite = {};","  var suiteRoot = interpolateGUID(path.join(__dirname, '../tmp/test-repo__[gid]-[guid]'));","","  suiteOptions = suiteOptions || {};","","  var timeout = process.env.HAPPY_TEST_TIMEOUT ?","    parseInt(process.env.HAPPY_TEST_TIMEOUT, 10) :","    suiteOptions.timeout || 2000","  ;","","  mochaSuite.timeout(timeout);","","  mochaSuite.beforeEach(function() {","    fs.removeSync(CACHE_DIR);","    fs.ensureDirSync(suiteRoot);","  });","","  mochaSuite.afterEach(function() {","    if (sandbox) {","      sandbox.restore();","      sandbox = null;","    }","","    fs.removeSync(CACHE_DIR);","","    if (process.env.HAPPY_TEST_ARTIFACTS !== '1') {","      fs.removeSync(suiteRoot);","    }","  });","","  /**","   * Create a temporary file.","   *","   * @param  {String} fileName","   *         Relative file path.","   *","   * @param  {String|Function} contentsFn","   *         The contents of the file. If it's a function, we'll multiline-slash","   *         it.","   *","   * @return {Object} file","   * @return {String} file.path","   * @return {String} file.contents","   */","  testSuite.createFile = function(fileName, contentsFn) {","    var filePath = path.join(suiteRoot, fileName || '~file-[gid]');","    var contents = contentsFn instanceof Function ? multiline(contentsFn) : contentsFn;","","    fs.ensureDirSync(path.dirname(filePath));","    fs.writeFileSync(filePath, contents, 'utf-8');","","    return { path: filePath, contents: contents };","  };","","  testSuite.createDirectory = function(fileName) {","    var filePath = path.join(suiteRoot, fileName);","","    fs.ensureDirSync(filePath);","","    return { path: filePath };","  };","","  testSuite.resolve = function() {","    return path.join.apply(path, [ suiteRoot ].concat([].slice.call(arguments)));","  };","","  testSuite.getSinonSandbox = function() {","    if (!sandbox) {","      sandbox = sinon.sandbox.create({ useFakeTimers: false, useFakeServer: false });","    }","","    return sandbox;","  };","","  testSuite.createLoader = function(impl, query) {","    return testSuite.createLoaderFromString('module.exports = ' + impl.toString(), query);","  };","","  testSuite.createLoaderFromString = function(string, query) {","    var loaderName = interpolateGUID('auto-generated-[gid]');","    var filePath = testSuite.resolve(loaderName + '-loader.js');","","    fs.writeFileSync(filePath, string, 'utf-8');","","    return { _name: loaderName, path: filePath, query: query };","  };","","  // Listen for HappyLoader instances registering themselves to HappyRPCHandler,","  // grab that instance, and yield it so that you can install your spies and such.","  //","  // @return {Function}","  //   Returns the latest active loader instance, if any.","  testSuite.spyOnActiveLoader = function(fn) {","    var registerActiveLoader = HappyRPCHandler.prototype.registerActiveLoader;","    var happyLoader;","","    sandbox.stub(HappyRPCHandler.prototype, 'registerActiveLoader', function(id, loader) {","      happyLoader = loader;","","      if (fn) {","        fn(happyLoader);","      }","","      return registerActiveLoader.apply(this, arguments);","    });","","    Object.defineProperty(testSuite, 'activeLoader', {","      configurable: true,","      enumerable: false,","      get: function() {","        return happyLoader;","      }","    });","","    cleanups.push(function() {","      happyLoader = null;","    });","","    return function() { return happyLoader; };","  };","","  return testSuite;","};","","exports.IntegrationSuite2 = IntegrationSuite2;"],"l":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"13":0,"14":0,"15":0,"18":0,"21":0,"22":0,"23":0,"24":0,"27":0,"28":0,"31":0,"32":0,"33":0,"34":0,"37":0,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"51":1,"52":1,"53":0,"57":0,"61":1,"62":0,"64":0,"66":0,"78":1,"79":0,"80":0,"81":0,"83":0,"85":0,"90":0,"92":0,"93":0,"94":0,"97":0,"98":0,"99":0,"100":0,"103":0,"105":0,"106":0,"124":0,"125":0,"126":0,"128":0,"129":0,"131":0,"134":0,"135":0,"137":0,"139":0,"142":0,"143":0,"146":0,"147":0,"148":0,"151":0,"154":0,"155":0,"158":0,"159":0,"160":0,"162":0,"164":0,"172":0,"173":0,"174":0,"176":0,"177":0,"179":0,"180":0,"183":0,"186":0,"190":0,"194":0,"195":0,"198":0,"201":0,"204":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyWorkerChannel.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/lib/HappyWorkerChannel.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":1,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":1},"b":{"1":[0,1],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"startAsWorker","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"2":{"name":"HappyWorkerChannel","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":15},"end":{"line":19,"column":33}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":13},"end":{"line":30,"column":31}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":31},"end":{"line":32,"column":48}}},"6":{"name":"(anonymous_6)","line":44,"loc":{"start":{"line":44,"column":23},"end":{"line":44,"column":41}}},"7":{"name":"accept","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":27}}},"8":{"name":"getFakeCompiler","line":65,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":39}}},"9":{"name":"getWorker","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":33}}},"10":{"name":"findOrCreateFakeCompiler","line":73,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":48}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":18}},"6":{"start":{"line":11,"column":0},"end":{"line":13,"column":1}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":55}},"8":{"start":{"line":15,"column":0},"end":{"line":88,"column":1}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":25}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":19}},"11":{"start":{"line":18,"column":2},"end":{"line":49,"column":4}},"12":{"start":{"line":20,"column":6},"end":{"line":22,"column":7}},"13":{"start":{"line":24,"column":6},"end":{"line":27,"column":9}},"14":{"start":{"line":31,"column":6},"end":{"line":41,"column":7}},"15":{"start":{"line":33,"column":10},"end":{"line":39,"column":13}},"16":{"start":{"line":45,"column":6},"end":{"line":47,"column":7}},"17":{"start":{"line":51,"column":2},"end":{"line":51,"column":31}},"18":{"start":{"line":52,"column":2},"end":{"line":52,"column":33}},"19":{"start":{"line":54,"column":2},"end":{"line":63,"column":3}},"20":{"start":{"line":55,"column":4},"end":{"line":55,"column":41}},"21":{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},"22":{"start":{"line":58,"column":6},"end":{"line":58,"column":57}},"23":{"start":{"line":61,"column":6},"end":{"line":61,"column":23}},"24":{"start":{"line":65,"column":2},"end":{"line":67,"column":3}},"25":{"start":{"line":66,"column":4},"end":{"line":66,"column":37}},"26":{"start":{"line":69,"column":2},"end":{"line":71,"column":3}},"27":{"start":{"line":70,"column":4},"end":{"line":70,"column":31}},"28":{"start":{"line":73,"column":2},"end":{"line":87,"column":3}},"29":{"start":{"line":74,"column":4},"end":{"line":84,"column":5}},"30":{"start":{"line":75,"column":6},"end":{"line":79,"column":9}},"31":{"start":{"line":81,"column":6},"end":{"line":83,"column":9}},"32":{"start":{"line":86,"column":4},"end":{"line":86,"column":37}},"33":{"start":{"line":90,"column":0},"end":{"line":90,"column":36}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":0},"end":{"line":7,"column":0}},{"start":{"line":7,"column":0},"end":{"line":7,"column":0}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"3":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":4}},{"start":{"line":74,"column":4},"end":{"line":74,"column":4}}]}},"code":["//#!/usr/bin/env node","","var JSONSerializer = require('./JSONSerializer');","var HappyFakeCompiler = require('./HappyFakeCompiler');","var HappyWorker = require('./HappyWorker');","","if (process.argv[1] === __filename) {","  startAsWorker();","}","","function startAsWorker() {","  HappyWorkerChannel(String(process.argv[2]), process);","}","","function HappyWorkerChannel(id, stream) {","  var fakeCompilers = {};","  var workers = {};","  var handlers = {","    CONFIGURE: function(message) {","      findOrCreateFakeCompiler(message.data.compilerId)","        .configure(JSONSerializer.deserialize(message.data.compilerOptions))","      ;","","      stream.send({","        id: message.id,","        name: 'CONFIGURE_DONE'","      });","    },","","    COMPILE: function(message) {","      getWorker(message.data.loaderContext.compilerId)","        .compile(message.data, function(result) {","          stream.send({","            id: message.id,","            name: 'COMPILED',","            sourcePath: result.sourcePath,","            compiledPath: result.compiledPath,","            success: result.success","          });","        })","      ;","    },","","    COMPILER_RESPONSE: function(message) {","      getFakeCompiler(message.data.compilerId)","        ._handleResponse(message.id, message.data)","      ;","    },","  };","","  stream.on('message', accept);","  stream.send({ name: 'READY' });","","  function accept(message) {","    var handler = handlers[message.name];","","    if (!handler) {","      console.warn('ignoring unknown message:', message);","    }","    else {","      handler(message);","    }","  }","","  function getFakeCompiler(compilerId) {","    return fakeCompilers[compilerId];","  }","","  function getWorker(compilerId) {","    return workers[compilerId];","  }","","  function findOrCreateFakeCompiler(compilerId) {","    if (!fakeCompilers[compilerId]) {","      fakeCompilers[compilerId] = new HappyFakeCompiler({","        id: id,","        compilerId: compilerId,","        send: stream.send.bind(stream)","      });","","      workers[compilerId] = new HappyWorker({","        compiler: fakeCompilers[compilerId]","      });","    }","","    return fakeCompilers[compilerId];","  }","}","","module.exports = HappyWorkerChannel;"],"l":{"3":1,"4":1,"5":1,"7":1,"8":0,"11":1,"12":0,"15":1,"16":0,"17":0,"18":0,"20":0,"24":0,"31":0,"33":0,"45":0,"51":0,"52":0,"54":1,"55":0,"57":0,"58":0,"61":0,"65":1,"66":0,"69":1,"70":0,"73":1,"74":0,"75":0,"81":0,"86":0,"90":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/scripts/loader-support-status/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/scripts/loader-support-status/index.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":50,"loc":{"start":{"line":50,"column":3},"end":{"line":50,"column":27}}},"2":{"name":"(anonymous_2)","line":63,"loc":{"start":{"line":63,"column":44},"end":{"line":63,"column":58}}},"3":{"name":"(anonymous_3)","line":79,"loc":{"start":{"line":79,"column":35},"end":{"line":79,"column":56}}},"4":{"name":"(anonymous_4)","line":90,"loc":{"start":{"line":90,"column":33},"end":{"line":90,"column":54}}},"5":{"name":"(anonymous_5)","line":101,"loc":{"start":{"line":101,"column":34},"end":{"line":101,"column":55}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":23}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":50}},"6":{"start":{"line":9,"column":0},"end":{"line":12,"column":2}},"7":{"start":{"line":14,"column":0},"end":{"line":17,"column":1}},"8":{"start":{"line":19,"column":0},"end":{"line":110,"column":3}},"9":{"start":{"line":51,"column":2},"end":{"line":53,"column":3}},"10":{"start":{"line":52,"column":4},"end":{"line":52,"column":14}},"11":{"start":{"line":55,"column":2},"end":{"line":55,"column":56}},"12":{"start":{"line":56,"column":2},"end":{"line":56,"column":60}},"13":{"start":{"line":57,"column":2},"end":{"line":61,"column":4}},"14":{"start":{"line":63,"column":2},"end":{"line":73,"column":5}},"15":{"start":{"line":64,"column":4},"end":{"line":72,"column":5}},"16":{"start":{"line":65,"column":6},"end":{"line":65,"column":30}},"17":{"start":{"line":67,"column":9},"end":{"line":72,"column":5}},"18":{"start":{"line":68,"column":6},"end":{"line":68,"column":31}},"19":{"start":{"line":71,"column":6},"end":{"line":71,"column":32}},"20":{"start":{"line":75,"column":2},"end":{"line":84,"column":3}},"21":{"start":{"line":76,"column":4},"end":{"line":76,"column":41}},"22":{"start":{"line":77,"column":4},"end":{"line":77,"column":37}},"23":{"start":{"line":79,"column":4},"end":{"line":81,"column":7}},"24":{"start":{"line":80,"column":6},"end":{"line":80,"column":85}},"25":{"start":{"line":83,"column":4},"end":{"line":83,"column":20}},"26":{"start":{"line":86,"column":2},"end":{"line":95,"column":3}},"27":{"start":{"line":87,"column":4},"end":{"line":87,"column":39}},"28":{"start":{"line":88,"column":4},"end":{"line":88,"column":37}},"29":{"start":{"line":90,"column":4},"end":{"line":92,"column":7}},"30":{"start":{"line":91,"column":6},"end":{"line":91,"column":85}},"31":{"start":{"line":94,"column":4},"end":{"line":94,"column":20}},"32":{"start":{"line":97,"column":2},"end":{"line":109,"column":3}},"33":{"start":{"line":98,"column":4},"end":{"line":98,"column":43}},"34":{"start":{"line":99,"column":4},"end":{"line":99,"column":37}},"35":{"start":{"line":101,"column":4},"end":{"line":108,"column":7}},"36":{"start":{"line":102,"column":6},"end":{"line":107,"column":8}}},"branchMap":{"1":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":51,"column":2}},{"start":{"line":51,"column":2},"end":{"line":51,"column":2}}]},"2":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"3":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":9},"end":{"line":67,"column":9}},{"start":{"line":67,"column":9},"end":{"line":67,"column":9}}]},"4":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"5":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"6":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]}},"code":["//#!/usr/bin/env node","","var HappyPlugin = require('../../');","var webpack = require('webpack');","var fs = require('fs');","var path = require('path');","","var loader = path.resolve(__dirname, 'loader.js');","var inputPaths = {","  webpack: path.resolve(__dirname, 'lib/a.js'),","  happypack: path.resolve(__dirname, 'lib/b.js'),","};","","var statPaths = {","  webpack: path.resolve(__dirname, 'dist/a.json'),","  happypack: path.resolve(__dirname, 'dist/b.json'),","}","","webpack({","  entry: [ inputPaths.webpack, inputPaths.happypack ],","  output: {","    path: path.resolve(__dirname, 'dist'),","    filename: '[name].js'","  },","  bail: true,","","  module: {","    loaders: [","      {","        test: /a\\.js$/,","        loader: loader + '?out=' + statPaths.webpack","      },","      {","        test: /b\\.js$/,","        loader: path.resolve(__dirname, '../../loader')","      }","    ]","  },","","  plugins: [","    new HappyPlugin({","      loaders: [","        loader + '?out=' + statPaths.happypack","      ],","      threads: 1,","      cache: false,","      verbose: false","    })","  ]","}, function(err, rawStats) {","  if (err) {","    throw err;","  }","","  var webpackLoaderContext = require(statPaths.webpack);","  var happypackLoaderContext = require(statPaths.happypack);","  var stats = {","    missing: [],","    mismatch: [],","    supported: []","  };","","  Object.keys(webpackLoaderContext).forEach(function(key) {","    if (!happypackLoaderContext.hasOwnProperty(key)) {","      stats.missing.push(key);","    }","    else if (webpackLoaderContext[key] !== happypackLoaderContext[key]) {","      stats.mismatch.push(key);","    }","    else {","      stats.supported.push(key);","    }","  });","","  if (stats.supported.length) {","    console.log('Supported properties:');","    console.log(Array(72).join('-'));","","    stats.supported.sort().forEach(function(key, index) {","      console.warn('%d. \"%s\" of type \"%s\"', index+1, key, webpackLoaderContext[key]);","    });","","    console.log('');","  }","","  if (stats.missing.length) {","    console.log('Missing properties:');","    console.log(Array(72).join('-'));","","    stats.missing.sort().forEach(function(key, index) {","      console.warn('%d. \"%s\" of type \"%s\"', index+1, key, webpackLoaderContext[key]);","    });","","    console.log('');","  }","","  if (stats.mismatch.length) {","    console.log('Property type mismatch:');","    console.log(Array(72).join('-'));","","    stats.mismatch.sort().forEach(function(key, index) {","      console.warn('%d. \"%s\" is of type \"%s\" in webpack, but \"%s\" in happypack.',","        index+1,","        key,","        webpackLoaderContext[key],","        happypackLoaderContext[key]","      );","    });","  }","});"],"l":{"3":2,"4":2,"5":0,"6":0,"8":0,"9":0,"14":0,"19":0,"51":0,"52":0,"55":0,"56":0,"57":0,"63":0,"64":0,"65":0,"67":0,"68":0,"71":0,"75":0,"76":0,"77":0,"79":0,"80":0,"83":0,"86":0,"87":0,"88":0,"90":0,"91":0,"94":0,"97":0,"98":0,"99":0,"101":0,"102":0}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/scripts/loader-support-status/lib/a.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/scripts/loader-support-status/lib/a.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":6}}},"branchMap":{},"code":["var a;"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/scripts/loader-support-status/lib/b.js":{"path":"/home/travis/build/npmtest/node-npmtest-happypack/node_modules/happypack/scripts/loader-support-status/lib/b.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":6}}},"branchMap":{},"code":["var b;"],"l":{"1":1}}}